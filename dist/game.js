//>>built
/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
(function(d,i){var h,a,j,l=function(){},f=function(a){for(var b in a)return 0;return 1},b={}.toString,c=function(a){return"[object Function]"==b.call(a)},m=function(a){return"[object String]"==b.call(a)},e=function(a){return"[object Array]"==b.call(a)},g=function(a,b){if(a)for(var c=0;c<a.length;)b(a[c++])},o=function(a,b){for(var c in b)a[c]=b[c];return a},q=function(a,b){return o(Error(a),{src:"dojoLoader",info:b})},w=1,p=function(){return"_"+w++},n=function(a,b,c){return fa(a,b,c,0,n)},J=this,
r=J.document,Ga=r&&r.createElement("DiV"),t=n.has=function(a){return c(s[a])?s[a]=s[a](J,r,Ga):s[a]},s=t.cache=i.hasCache;t.add=function(a,b,c,g){(void 0===s[a]||g)&&(s[a]=b);return c&&t(a)};for(var u in d.has)t.add(u,d.has[u],0,1);n.async=1;var D=new Function("return eval(arguments[0]);");n.eval=function(a,b){return D(a+"\r\n////@ sourceURL="+b)};var B={},v=n.signal=function(a,b){var c=B[a];g(c&&c.slice(0),function(a){a.apply(null,e(b)?b:[b])})},ua=n.on=function(a,b){var c=B[a]||(B[a]=[]);c.push(b);
return{remove:function(){for(var a=0;a<c.length;a++)if(c[a]===b){c.splice(a,1);break}}}},Oa=[],Pa={},ga=[],va={},Qa=n.map={},aa=[],E={},Ha="",ha={},wa={};u={};var U=function(a){var b,c,g,e;for(b in wa)c=wa[b],(g=b.match(/^url\:(.+)/))?ha["url:"+xb(g[1],a)]=c:"*now"==b?e=c:"*noref"!=b&&(g=Ra(b,a),ha[g.mid]=ha["url:"+g.url]=c);e&&e(T(a));wa={}},oa=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ba=function(a,b){b.splice(0,b.length);for(var c in a)b.push([c,a[c],
RegExp("^"+oa(c)+"(/|$)"),c.length]);b.sort(function(a,b){return b[3]-a[3]});return b},ia=function(a){var b=a.name;b||(b=a,a={name:b});a=o({main:"main"},a);a.location=a.location?a.location:b;if(a.packageMap)Qa[b]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);va[b]=a},Ia=[],P=function(a,b,c){for(var e in a){if("waitSeconds"==e)n.waitms=1E3*(a[e]||0);"cacheBust"==e&&(Ha=a[e]?m(a[e])?a[e]:(new Date).getTime()+"":"");if("baseUrl"==e||"combo"==e)n[e]=a[e];a[e]!==s&&(n.rawConfig[e]=a[e],
"has"!=e&&t.add("config-"+e,a[e],0,b))}if(!n.baseUrl)n.baseUrl="./";/\/$/.test(n.baseUrl)||(n.baseUrl+="/");for(e in a.has)t.add(e,a.has[e],0,b);g(a.packages,ia);for(j in a.packagePaths)g(a.packagePaths[j],function(a){var b=j+"/"+a;m(a)&&(a={name:a});a.location=b;ia(a)});ba(o(Qa,a.map),aa);g(aa,function(a){a[1]=ba(a[1],[]);if("*"==a[0])aa.star=a});ba(o(Pa,a.paths),ga);g(a.aliases,function(a){m(a[0])&&(a[0]=RegExp("^"+oa(a[0])+"$"));Oa.push(a)});if(b)Ia.push({config:a.config});else for(e in a.config)b=
V(e,c),b.config=o(b.config||{},a.config[e]);if(a.cache)U(),wa=a.cache,a.cache["*noref"]&&U();v("config",[a,n.rawConfig])};n.rawConfig={};P(i,1);P(d,1);P(u,1);var L=function(a){pa(function(){g(a.deps,Ja)})},fa=function(a,b,c,g,d){var f;if(m(a)){if((f=V(a,g,!0))&&f.executed)return f.result;throw q("undefinedModule",a);}e(a)||(P(a,0,g),a=b,b=c);if(e(a))if(a.length){for(var c="require*"+p(),h,j=[],i=0;i<a.length;)h=a[i++],j.push(V(h,g));f=o(k("",c,0,""),{injected:2,deps:j,def:b||l,require:g?g.require:
n,gc:1});E[f.mid]=f;L(f);var r=X&&0!="sync";pa(function(){xa(f,r)});f.executed||y.push(f);x()}else b&&b();return d},T=function(a){if(!a)return n;var b=a.require;if(!b)b=function(c,e,g){return fa(c,e,g,a,b)},a.require=o(b,n),b.module=a,b.toUrl=function(b){return xb(b,a)},b.toAbsMid=function(b){return lb(b,a)};return b},y=[],A=[],z={},ja=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);Ta()},ka=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];f(z)&&Ka()},Y=n.idle=function(){return!A.length&&
f(z)&&!y.length&&!X},O=function(a,b){if(b)for(var c=0;c<b.length;c++)if(b[c][2].test(a))return b[c];return 0},yb=function(a){for(var b=[],c,e,a=a.replace(/\\/g,"/").split("/");a.length;)c=a.shift(),".."==c&&b.length&&".."!=e?(b.pop(),e=b[b.length-1]):"."!=c&&b.push(e=c);return b.join("/")},k=function(a,b,c,e){return{pid:a,mid:b,pack:c,url:e,executed:0,def:0}},zb=function(a,b,e,f,d,j,l,i){var m,o,n,r;r=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||r&&!b)return k(0,a,0,a);a=yb(r?b.mid+"/../"+a:a);
if(/^\./.test(a))throw q("irrationalPath",a);b&&(n=O(b.mid,j));(n=(n=n||j.star)&&O(a,n[1]))&&(a=n[1]+a.substring(n[3]));b=(h=a.match(/^([^\/]+)(\/(.+))?$/))?h[1]:"";(m=e[b])?a=b+"/"+(o=h[3]||m.main):b="";var p=0;g(Oa,function(b){var e=a.match(b[0]);e&&0<e.length&&(p=c(b[1])?a.replace(b[0],b[1]):b[1])});if(p)return zb(p,0,e,f,d,j,l,i);if(e=f[a])return i?k(e.pid,e.mid,e.pack,e.url):f[a];f=(n=O(a,l))?n[1]+a.substring(n[3]):b?m.location+"/"+o:a;/(^\/)|(\:)/.test(f)||(f=d+f);return k(b,a,m,yb(f+".js"))},
Ra=function(a,b){return zb(a,b,va,E,n.baseUrl,aa,ga)},Ab=function(a,b,c){return a.normalize?a.normalize(b,function(a){return lb(a,c)}):lb(b,c)},Bb=0,V=function(a,b,c){var e,g;(e=a.match(/^(.+?)\!(.*)$/))?(g=V(e[1],b,c),5===g.executed&&!g.load&&da(g),g.load?(e=Ab(g,e[2],b),a=g.mid+"!"+(g.dynamic?++Bb+"!":"")+e):(e=e[2],a=g.mid+"!"+ ++Bb+"!waitingForPlugin"),a={plugin:g,mid:a,req:T(b),prid:e}):a=Ra(a,b);return E[a.mid]||!c&&(E[a.mid]=a)},lb=n.toAbsMid=function(a,b){return Ra(a,b).mid},xb=n.toUrl=function(a,
b){var c=Ra(a+"/x",b),e=c.url;return ya(0===c.pid?a:e.substring(0,e.length-5))},za={injected:2,executed:5,def:3,result:3},Q=function(a){return E[a]=o({mid:a},za)},Ua=Q("require"),la=Q("exports"),Z=Q("module"),F={},Aa=0,da=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Va=function(a){var b={};g(a.loadQ,function(c){var e=Ab(a,c.prid,c.req.module),g=a.dynamic?c.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=o(o({},c),{mid:g,prid:e,injected:0});E[g]||
Ma(E[g]=e);b[c.mid]=E[g];ka(c);delete E[c.mid]});a.loadQ=0;var c=function(a){for(var c=a.deps||[],e=0;e<c.length;e++)(a=b[c[e].mid])&&(c[e]=a)},e;for(e in E)c(E[e]);g(y,c)},qa=function(b){n.trace("loader-finish-exec",[b.mid]);b.executed=5;b.defOrder=Aa++;b.loadQ&&(da(b),Va(b));for(a=0;a<y.length;)y[a]===b?y.splice(a,1):a++;/^require\*/.test(b.mid)&&delete E[b.mid]},Wa=[],xa=function(a,b){if(4===a.executed)return n.trace("loader-circular-dependency",[Wa.concat(a.mid).join("->")]),!a.def||b?F:a.cjs&&
a.cjs.exports;if(!a.executed){if(!a.def)return F;var e=a.mid,g=a.deps||[],f,d=[],h=0;for(a.executed=4;h<g.length;){f=g[h++];f=f===Ua?T(a):f===la?a.cjs.exports:f===Z?a.cjs:xa(f,b);if(f===F)return a.executed=0,n.trace("loader-exec-module",["abort",e]),F;d.push(f)}n.trace("loader-run-factory",[a.mid]);e=a.def;d=c(e)?e.apply(null,d):e;a.result=void 0===d&&a.cjs?a.cjs.exports:d;qa(a)}return a.result},X=0,pa=function(a){try{X++,a()}finally{X--}Y()&&v("idle",[])},x=function(){X||pa(function(){for(var a,
b,c=0;c<y.length;)a=Aa,b=y[c],xa(b),a!=Aa?c=0:c++})};void 0===t("dojo-loader-eval-hint-url")&&t.add("dojo-loader-eval-hint-url",1);var ya=function(a){a+="";return a+(Ha?(/\?/.test(a)?"&":"?")+Ha:"")},Ma=function(a){var b=a.plugin;5===b.executed&&!b.load&&da(b);var c=function(b){a.result=b;ka(a);qa(a);x()};b.load?b.load(a.prid,a.req,c):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],y.unshift(b),Ja(b))},ma=0,ra=0,Ba=0,Xa=function(a,b){t("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Ba=1;a===ma?ma.call(null):
n.eval(a,t("dojo-loader-eval-hint-url")?b.url:b.mid);Ba=0},Ja=function(a){var b=a.mid,c=a.url;if(!a.executed&&!a.injected&&!(z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(ja(a),a.plugin)Ma(a);else{var e=function(){Ya(a);2!==a.injected&&(ka(a),o(a,za),n.trace("loader-define-nonmodule",[a.url]));x()};(ma=ha[b]||ha["url:"+a.url])?(n.trace("loader-inject",["cache",a.mid,c]),Xa(ma,a),e()):(n.trace("loader-inject",["script",a.mid,c]),ra=a,n.injectUrl(ya(c),e,a),ra=0)}},sa=function(a,b,e){n.trace("loader-define-module",
[a.mid,b]);if(2===a.injected)return v("error",q("multipleDefine",a)),a;o(a,{deps:b,def:e,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var g=0;g<b.length;g++)b[g]=V(b[g],a);ka(a);if(!c(e)&&!b.length)a.result=e,qa(a);return a},Ya=function(a,b){for(var c=[],e,f;A.length;)f=A.shift(),b&&(f[0]=b.shift()),e=f[0]&&V(f[0])||a,c.push([e,f[1],f[2]]);U(a);g(c,function(a){L(sa.apply(null,a))})},Ka=l,Ta=l;t.add("ie-event-behavior",
!!r.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ca=function(a,b,c,e){if(t("ie-event-behavior"))return a.attachEvent(c,e),function(){a.detachEvent(c,e)};a.addEventListener(b,e,!1);return function(){a.removeEventListener(b,e,!1)}},Za=Ca(window,"load","onload",function(){n.pageLoaded=1;"complete"!=r.readyState&&(r.readyState="complete");Za()}),Da=r.getElementsByTagName("script")[0],$a=Da.parentNode;n.injectUrl=function(a,b,c){var c=c.node=r.createElement("script"),
e=Ca(c,"load","onreadystatechange",function(a){var a=a||window.event,c=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(c.readyState))e(),g(),b&&b()}),g=Ca(c,"error","onerror",function(b){e();g();v("error",q("scriptError",[a,b]))});c.type="text/javascript";c.charset="utf-8";c.src=a;$a.insertBefore(c,Da);return c};n.log=l;n.trace=l;Q=function(a,b,e){var g=arguments.length,f=["require","exports","module"],d=[0,a,b];1==g?d=[0,c(a)?f:[],a]:2==g&&m(a)?d=[a,c(b)?f:[],b]:3==g&&(d=[a,b,e]);
n.trace("loader-define",d.slice(0,2));if((g=d[0]&&V(d[0]))&&!z[g.mid])L(sa(g,d[1],d[2]));else if(!t("ie-event-behavior")||Ba)A.push(d);else{g=g||ra;if(!g)for(a in z)if((f=E[a])&&f.node&&"interactive"===f.node.readyState){g=f;break}g?(U(g),L(sa(g,d[1],d[2]))):v("error",q("ieDefineFailed",d[0]));x()}};Q.amd={vendor:"dojotoolkit.org"};o(o(n,i.loaderPatch),d.loaderPatch);ua("error",function(a){try{if(console.error(a),a instanceof Error)for(var b in a);}catch(c){}});o(n,{uid:p,cache:ha,packs:va});if(!J.define)J.define=
Q,J.require=n,g(Ia,function(a){P(a)}),ua=u.deps||d.deps||i.deps,u=u.callback||d.callback||i.callback,n.boot=ua||u?[ua||[],u]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:1,baseUrl:"./",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../minigolf",name:"minigolf"},{location:".",name:"dojo"},{location:"../dcl",main:"dcl",name:"dcl"},{location:"../lodash",main:"lodash",name:"lodash"},{location:"../hammer",
main:"hammer",name:"hammer"},{location:"../frozen",main:"GameCore",name:"frozen"},{location:"../game",main:"game",name:"game"}]});
require({cache:{"dist/game":function(){define([],1)},"game/game":function(){define("./initInput,./handleInput,./update,./draw,./loadLevel,./UI,dojo/has,frozen/box2d/Box,frozen/box2d/BoxGame,frozen/box2d/listeners/Contact".split(","),function(d,i,h,a,j,l,f,b,c,m){var f=new b({gravityX:0,gravityY:0,contactListener:new m({beginContact:function(a,b){if(!("ball"!==a&&"ball"!==b)){var c="ball"!==a?a:b;e.entities[c].sensor&&(e.entities.ball.touching[c]=!0)}},endContact:function(a,b){if(!("ball"!==a&&"ball"!==
b)){var c="ball"!==a?a:b;e.entities[c].sensor&&(e.entities.ball.touching[c]=!1)}}})}),e=new c({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:0.95,box:f,initInput:d,handleInput:i,update:h,draw:a,loadLevel:j,ui:new l,level:0});e.loadLevel(e.level);e.run()})},"game/initInput":function(){define(["dojo/has","dojo/keys"],function(){return function(){}})},"dojo/has":function(){define(["require","module"],function(d){var i=d.has||function(){};i.add("touch","ontouchstart"in document);i.add("device-width",
screen.availWidth||innerWidth);d=document.createElement("form");i.add("dom-attributes-explicit",0==d.attributes.length);i.add("dom-attributes-specified-flag",0<d.attributes.length&&40>d.attributes.length);i.clearElement=function(d){d.innerHTML="";return d};i.normalize=function(d,a){var j=d.match(/[\?:]|[^:\?]*/g),l=0,f=function(a){var c=j[l++];if(":"==c)return 0;if("?"==j[l++]){if(!a&&i(c))return f();f(!0);return f(a)}return c||0};return(d=f())&&a(d)};i.load=function(d,a,j){d?a([d],j):j()};return i})},
"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(d,i){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:i("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,
NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:i("mac")&&!i("air")?i("safari")?91:224:17}})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(d,i,h,a){var j,d={},l={},f={config:i,global:this,dijit:d,dojox:l},
d={dojo:["dojo",f],dijit:["dijit",d],dojox:["dojox",l]},a=h.map&&h.map[a.id.match(/[^\/]+/)[0]];for(j in a)d[j]?d[j][0]=a[j]:d[j]=[a[j],{}];for(j in d)a=d[j],a[1]._scopeName=a[0],i.noGlobals||(this[a[0]]=a[1]);f.scopeMap=d;f.baseUrl=f.config.baseUrl=h.baseUrl;f.isAsync=h.async;f.locale=i.locale;i="$Rev$".match(/\d+/);f.version={major:1,minor:8,patch:3,flag:"",revision:i?+i[0]:NaN,toString:function(){var a=f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);
f.exit=function(){};f.deprecated=f.experimental=function(){};f._hasResource={};return f})},"dojo/_base/config":function(){define(["../has","require"],function(d,i){var h={},a=i.rawConfig,j;for(j in a)h[j]=a[j];return h})},"dojo/sniff":function(){define(["./has"],function(d){var i=navigator,h=i.userAgent,i=i.appVersion,a=parseFloat(i);d.add("air",0<=h.indexOf("AdobeAIR"));d.add("khtml",0<=i.indexOf("Konqueror")?a:void 0);d.add("webkit",parseFloat(h.split("WebKit/")[1])||void 0);d.add("chrome",parseFloat(h.split("Chrome/")[1])||
void 0);d.add("safari",0<=i.indexOf("Safari")&&!d("chrome")?parseFloat(i.split("Version/")[1]):void 0);d.add("mac",0<=i.indexOf("Macintosh"));d.add("quirks","BackCompat"==document.compatMode);d.add("ios",/iPhone|iPod|iPad/.test(h));d.add("android",parseFloat(h.split("Android ")[1])||void 0);if(!d("webkit")){0<=h.indexOf("Opera")&&d.add("opera",9.8<=a?parseFloat(h.split("Version/")[1])||a:a);0<=h.indexOf("Gecko")&&!d("khtml")&&!d("webkit")&&d.add("mozilla",a);d("mozilla")&&d.add("ff",parseFloat(h.split("Firefox/")[1]||
h.split("Minefield/")[1])||void 0);if(document.all&&!d("opera"))h=parseFloat(i.split("MSIE ")[1])||void 0,(i=document.documentMode)&&5!=i&&Math.floor(h)!=i&&(h=i),d.add("ie",h);d.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return d})},"game/handleInput":function(){define(["dojo/has","dojo/keys","frozen/utils/distance","frozen/utils/scalePoints","frozen/utils/radiansFromCenter"],function(d,i,h,a,j){return function(d){var f=this.entities.ball;if(f&&0>=this.ui.scoreTime){var b=d.mouseAction.position;
if(!d.mouseAction.isPressed()&&b){var c=a(f,f.scale),i=h(c,b);this.ui.ballHit=!0;b=j(c,b)+Math.PI;i=Math.min(0.1*i,10);this.box.applyImpulse(f.id,b,i);d.mouseAction.position=null}}}})},"frozen/utils/distance":function(){define(function(){return function(d,i){return Math.sqrt((i.x-d.x)*(i.x-d.x)+(i.y-d.y)*(i.y-d.y))}})},"frozen/utils/scalePoints":function(){define(["lodash"],function(d){function i(h,a){return h=Array.isArray(h)?d.map(h,function(d){return i(d,a)}):"object"===typeof a?{x:h.x*a.x,y:h.y*
a.y}:{x:h.x*a,y:h.y*a}}return i})},"lodash/lodash":function(){(function(d){function i(a,b,c){for(var c=(c||0)-1,e=a.length;++c<e;)if(a[c]===b)return c;return-1}function h(a,b){var c=typeof b,a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:Ga+b,a=a[c]||(a[c]={});return"object"==c?a[e]&&-1<i(a[e],b)?0:-1:a[e]?0:-1}function a(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var e="number"==
c?a:Ga+a,g=b[c]||(b[c]={});if("object"==c){if((g[e]||(g[e]=[])).push(a)==this.array.length)b[c]=!1}else g[e]=!0}}function j(a){return a.charCodeAt(0)}function l(a,b){var c=a.index,e=b.index,a=a.criteria,b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<e?-1:1}function f(b){var c=-1,e=b.length,f=m();f["false"]=f["null"]=f["true"]=f.undefined=!1;var d=m();d.array=b;d.cache=f;for(d.push=a;++c<e;)d.push(b[c]);return!1===f.object?(g(d),null):
d}function b(a){return"\\"+z[a]}function c(){return p.pop()||[]}function m(){return n.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function e(a){a.length=0;p.length<s&&p.push(a)}function g(a){var b=a.cache;b&&g(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;n.length<s&&n.push(a)}function o(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:
0);for(var e=-1,c=c-b||0,g=Array(0>c?0:c);++e<c;)g[e]=a[b+e];return g}function q(a){function k(a){return a&&"object"==typeof a&&!R(a)&&H.call(a,"__wrapped__")?a:new n(a)}function n(a){this.__wrapped__=a}function p(a,b,c,e){function g(){var e=arguments,ab=d?this:b;f||(a=b[h]);c.length&&(e=e.length?(e=G.call(e),j?e.concat(c):c.concat(e)):c);return this instanceof g?(ab=F(a.prototype)?bb(a.prototype):{},e=a.apply(ab,e),F(e)?e:ab):a.apply(ab,e)}var f=Z(a),d=!c,h=b;if(d)var j=e,c=b;else if(!f){if(!e)throw new Hb;
b=a}return g}function s(a){return Cb[a]}function z(){var a=(a=k.indexOf)===Ya?i:a;return a}function V(a){return function(b,c,e,g){"boolean"!=typeof c&&null!=c&&(g=e,e=!(g&&g[c]===b)?c:w,c=!1);null!=e&&(e=k.createCallback(e,g));return a(b,c,e,g)}}function Y(a){var b,c;if(!(a&&N.call(a)==L)||(b=a.constructor,Z(b)&&!(b instanceof b)))return!1;ta(a,function(a,b){c=b});return c===w||H.call(a,c)}function ja(a){return Ib[a]}function za(a,b,g,f,d,h){var j=a;"boolean"!=typeof b&&null!=b&&(f=g,g=b,b=!1);if("function"==
typeof g){g="undefined"==typeof f?g:k.createCallback(g,f,1);j=g(j);if("undefined"!=typeof j)return j;j=a}if(f=F(j)){var i=N.call(j);if(!y[i])return j;var l=R(j)}if(!f||!b)return f?l?o(j):nb({},j):j;f=ea[i];switch(i){case ba:case ia:return new f(+j);case P:case T:return new f(j);case fa:return f(j.source,Oa.exec(j))}i=!d;d||(d=c());h||(h=c());for(var m=d.length;m--;)if(d[m]==a)return h[m];j=l?f(j.length):{};if(l){if(H.call(a,"index"))j.index=a.index;if(H.call(a,"input"))j.input=a.input}d.push(a);h.push(j);
(l?x:C)(a,function(a,c){j[c]=za(a,b,g,w,d,h)});i&&(e(d),e(h));return j}function Q(a){var b=[];ta(a,function(a,c){Z(a)&&b.push(c)});return b.sort()}function Ua(a){for(var b=-1,c=S(a),e=c.length,g={};++b<e;){var f=c[b];g[a[f]]=f}return g}function la(a,b,g,f,d,j){var h=g===r;if("function"==typeof g&&!h){var g=k.createCallback(g,f,2),i=g(a,b);if("undefined"!=typeof i)return!!i}if(a===b)return 0!==a||1/a==1/b;var l=typeof a,m=typeof b;if(a===a&&(!a||"function"!=l&&"object"!=l)&&(!b||"function"!=m&&"object"!=
m))return!1;if(null==a||null==b)return a===b;m=N.call(a);l=N.call(b);m==U&&(m=L);l==U&&(l=L);if(m!=l)return!1;switch(m){case ba:case ia:return+a==+b;case P:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case fa:case T:return a==ca(b)}l=m==oa;if(!l){if(H.call(a,"__wrapped__ ")||H.call(b,"__wrapped__"))return la(a.__wrapped__||a,b.__wrapped__||b,g,f,d,j);if(m!=L)return!1;var m=a.constructor,o=b.constructor;if(m!=o&&(!Z(m)||!(m instanceof m&&Z(o)&&o instanceof o)))return!1}o=!d;d||(d=c());j||(j=c());for(m=d.length;m--;)if(d[m]==
a)return j[m]==b;var n=0,i=!0;d.push(a);j.push(b);if(l){m=a.length;n=b.length;i=n==a.length;if(!i&&!h)return i;for(;n--;)if(l=m,o=b[n],h)for(;l--&&!(i=la(a[l],o,g,f,d,j)););else if(!(i=la(a[n],o,g,f,d,j)))break;return i}ta(b,function(b,c,e){if(H.call(e,c))return n++,i=H.call(a,c)&&la(a[c],b,g,f,d,j)});i&&!h&&ta(a,function(a,b,c){if(H.call(c,b))return i=-1<--n});o&&(e(d),e(j));return i}function Z(a){return"function"==typeof a}function F(a){return!(!a||!A[typeof a])}function Aa(a){return"number"==typeof a||
N.call(a)==P}function da(a){return"string"==typeof a||N.call(a)==T}function Va(a,b,g){var f=arguments,d=0,j=2;if(!F(a))return a;if(g===r)var h=f[3],i=f[4],l=f[5];else{var m=!0,i=c(),l=c();if("number"!=typeof g)j=f.length;3<j&&"function"==typeof f[j-2]?h=k.createCallback(f[--j-1],f[j--],2):2<j&&"function"==typeof f[j-1]&&(h=f[--j])}for(;++d<j;)(R(f[d])?x:C)(f[d],function(b,c){var e,g,I=b,f=a[c];if(b&&((g=R(b))||ob(b))){for(I=i.length;I--;)if(e=i[I]==b){f=l[I];break}if(!e){var d;if(h&&(I=h(f,b),d="undefined"!=
typeof I))f=I;d||(f=g?R(f)?f:[]:ob(f)?f:{});i.push(b);l.push(f);d||(f=Va(f,b,r,h,i,l))}}else h&&(I=h(f,b),"undefined"==typeof I&&(I=b)),"undefined"!=typeof I&&(f=I);a[c]=f});m&&(e(i),e(l));return a}function qa(a){for(var b=-1,c=S(a),e=c.length,g=K(e);++b<e;)g[b]=a[c[b]];return g}function Wa(a,b,c){var e=-1,g=z(),f=a?a.length:0,d=!1,c=(0>c?$(0,f+c):c)||0;f&&"number"==typeof f?d=-1<(da(a)?a.indexOf(b,c):g(a,b,c)):C(a,function(a){if(++e>=c)return!(d=a===b)});return d}function xa(a,b,c){var e=!0,b=k.createCallback(b,
c),c=-1,g=a?a.length:0;if("number"==typeof g)for(;++c<g&&(e=!!b(a[c],c,a)););else C(a,function(a,c,g){return e=!!b(a,c,g)});return e}function X(a,b,c){var e=[],b=k.createCallback(b,c),c=-1,g=a?a.length:0;if("number"==typeof g)for(;++c<g;){var f=a[c];b(f,c,a)&&e.push(f)}else C(a,function(a,c,g){b(a,c,g)&&e.push(a)});return e}function pa(a,b,c){var b=k.createCallback(b,c),c=-1,e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var g=a[c];if(b(g,c,a))return g}else{var f;C(a,function(a,c,e){if(b(a,c,e))return f=
a,!1});return f}}function x(a,b,c){var e=-1,g=a?a.length:0,b=b&&"undefined"==typeof c?b:k.createCallback(b,c);if("number"==typeof g)for(;++e<g&&!(!1===b(a[e],e,a)););else C(a,b);return a}function ya(a,b,c){var e=-1,g=a?a.length:0,b=k.createCallback(b,c);if("number"==typeof g)for(var f=K(g);++e<g;)f[e]=b(a[e],e,a);else f=[],C(a,function(a,c,g){f[++e]=b(a,c,g)});return f}function Ma(a,b,c){var e=-Infinity,g=e;if(!b&&R(a))for(var c=-1,f=a.length;++c<f;){var d=a[c];d>g&&(g=d)}else b=!b&&da(a)?j:k.createCallback(b,
c),x(a,function(a,c,f){c=b(a,c,f);c>e&&(e=c,g=a)});return g}function ma(a,b){var c=-1,e=a?a.length:0;if("number"==typeof e)for(var g=K(e);++c<e;)g[c]=a[c][b];return g||ya(a,b)}function ra(a,b,c,e){if(!a)return c;var g=3>arguments.length,b=k.createCallback(b,e,4),f=-1,d=a.length;if("number"==typeof d)for(g&&(c=a[++f]);++f<d;)c=b(c,a[f],f,a);else C(a,function(a,e,f){c=g?(g=!1,a):b(c,a,e,f)});return c}function Ba(a,b,c,e){var g=a?a.length:0,f=3>arguments.length;if("number"!=typeof g)var d=S(a),g=d.length;
b=k.createCallback(b,e,4);x(a,function(e,j,h){j=d?d[--g]:--g;c=f?(f=!1,a[j]):b(c,a[j],j,h)});return c}function Xa(a,b,c){var e,b=k.createCallback(b,c),c=-1,g=a?a.length:0;if("number"==typeof g)for(;++c<g&&!(e=b(a[c],c,a)););else C(a,function(a,c,g){return!(e=b(a,c,g))});return!!e}function Ja(a){var b=-1,c=z(),e=a?a.length:0,d=Ea.apply(M,G.call(arguments,1)),j=[],l=e>=t&&c===i;if(l){var m=f(d);m?(c=h,d=m):l=!1}for(;++b<e;)m=a[b],0>c(d,m)&&j.push(m);l&&g(d);return j}function sa(a,b,c){if(a){var e=0,
g=a.length;if("number"!=typeof b&&null!=b)for(var f=-1,b=k.createCallback(b,c);++f<g&&b(a[f],f,a);)e++;else if(e=b,null==e||c)return a[0];return o(a,0,cb($(0,e),g))}}function Ya(a,b,c){if("number"==typeof c)var e=a?a.length:0,c=0>c?$(0,e+c):c||0;else if(c)return c=Ta(a,b),a[c]===b?c:-1;return a?i(a,b,c):-1}function Ka(a,b,c){if("number"!=typeof b&&null!=b)for(var e=0,g=-1,f=a?a.length:0,b=k.createCallback(b,c);++g<f&&b(a[g],g,a);)e++;else e=null==b||c?1:$(0,b);return o(a,e)}function Ta(a,b,c,e){for(var g=
0,f=a?a.length:g,c=c?k.createCallback(c,e,1):ib,b=c(b);g<f;)e=g+f>>>1,c(a[e])<b?g=e+1:f=e;return g}function Ca(a){for(var b=-1,c=a?Ma(ma(a,"length")):0,e=K(0>c?0:c);++b<c;)e[b]=ma(a,b);return e}function Za(a,b){for(var c=-1,e=a?a.length:0,g={};++c<e;){var f=a[c];b?g[f]=b[c]:g[f[0]]=f[1]}return g}function Da(a,b){return Db.fastBind||na&&2<arguments.length?na.call.apply(na,arguments):p(a,b,G.call(arguments,2))}function $a(a,b,c){function e(){db(k);db(o);i=0;k=o=null}function g(){var b=n&&(!q||1<i);
e();b&&(!1!==m&&(l=new Sa),j=a.apply(h,d))}function f(){e();if(n||m!==b)l=new Sa,j=a.apply(h,d)}var d,j,h,i=0,l=0,m=!1,k=null,o=null,n=!0,b=$(0,b||0);if(!0===c)var q=!0,n=!1;else if(F(c))q=c.leading,m="maxWait"in c&&$(b,c.maxWait||0),n="trailing"in c?c.trailing:n;return function(){d=arguments;h=this;i++;db(o);if(!1===m)q&&2>i&&(j=a.apply(h,d));else{var c=new Sa;!k&&!q&&(l=c);var e=m-(c-l);0>=e?(db(k),k=null,l=c,j=a.apply(h,d)):k||(k=eb(f,e))}b!==m&&(o=eb(g,b));return j}}function ub(a){var b=G.call(arguments,
1);return eb(function(){a.apply(w,b)},1)}function ib(a){return a}function vb(a){x(Q(a),function(b){var c=k[b]=a[b];k.prototype[b]=function(){var a=this.__wrapped__,b=[a];fb.apply(b,arguments);b=c.apply(k,b);return a&&"object"==typeof a&&a===b?this:new n(b)}})}function wb(){return this.__wrapped__}var a=a?O.defaults(d.Object(),a,O.pick(d,ha)):d,K=a.Array,jb=a.Boolean,Sa=a.Date,kb=a.Function,W=a.Math,Gb=a.Number,La=a.Object,mb=a.RegExp,ca=a.String,Hb=a.TypeError,M=[],pb=La.prototype,Jb=a._,Fa=mb("^"+
ca(pb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Kb=W.ceil,db=a.clearTimeout,Ea=M.concat,Eb=W.floor,Lb=kb.prototype.toString,Na=Fa.test(Na=La.getPrototypeOf)&&Na,H=pb.hasOwnProperty,fb=M.push,gb=a.setImmediate,eb=a.setTimeout,N=pb.toString,na=Fa.test(na=N.bind)&&na,bb=Fa.test(bb=La.create)&&bb,qb=Fa.test(qb=K.isArray)&&qb,Mb=a.isFinite,Nb=a.isNaN,hb=Fa.test(hb=La.keys)&&hb,$=W.max,cb=W.min,rb=a.parseInt,Fb=W.random,G=M.slice,W=Fa.test(a.attachEvent),W=
na&&!/\n|true/.test(na+W),ea={};ea[oa]=K;ea[ba]=jb;ea[ia]=Sa;ea[Ia]=kb;ea[L]=La;ea[P]=Gb;ea[fa]=mb;ea[T]=ca;n.prototype=k.prototype;var Db=k.support={};Db.fastBind=na&&!W;k.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Pa,variable:"",imports:{_:k}};var R=qb,S=!hb?function(a){var b,c=[];if(!a||!A[typeof a])return c;for(b in a)H.call(a,b)&&c.push(b);return c}:function(a){return!F(a)?[]:hb(a)},Cb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ib=Ua(Cb),
nb=function(a,b,c){var e,g=a,f=g;if(!g)return f;var d=arguments,j=0,h="number"==typeof c?2:d.length;if(3<h&&"function"==typeof d[h-2])var i=k.createCallback(d[--h-1],d[h--],2);else 2<h&&"function"==typeof d[h-1]&&(i=d[--h]);for(;++j<h;)if((g=d[j])&&A[typeof g])for(var l=-1,m=A[typeof g]&&S(g),o=m?m.length:0;++l<o;)e=m[l],f[e]=i?i(f[e],g[e]):g[e];return f},sb=function(a,b,c){var e,g=a,f=g;if(!g)return f;for(var d=arguments,j=0,h="number"==typeof c?2:d.length;++j<h;)if((g=d[j])&&A[typeof g])for(var i=
-1,l=A[typeof g]&&S(g),m=l?l.length:0;++i<m;)e=l[i],"undefined"==typeof f[e]&&(f[e]=g[e]);return f},ta=function(a,b,c){var e;if(!a||!A[typeof a])return a;b=b&&"undefined"==typeof c?b:k.createCallback(b,c);for(e in a)if(!1===b(a[e],e,a))break;return a},C=function(a,b,c){if(!a||!A[typeof a])return a;for(var b=b&&"undefined"==typeof c?b:k.createCallback(b,c),e=-1,g=A[typeof a]&&S(a),f=g?g.length:0;++e<f&&!(c=g[e],!1===b(a[c],c,a)););return a},ob=function(a){if(!(a&&N.call(a)==L))return!1;var b=a.valueOf,
c="function"==typeof b&&(c=Na(b))&&Na(c);return c?a==c||Na(a)==c:Y(a)},jb=V(function I(a,b,c){for(var e=-1,g=a?a.length:0,f=[];++e<g;){var d=a[e];c&&(d=c(d,e,a));R(d)?fb.apply(f,b?d:I(d)):f.push(d)}return f}),tb=V(function(a,b,d){var j=-1,l=z(),m=a?a.length:0,k=[],o=!b&&m>=t&&l===i,n=d||o?c():k;if(o){var q=f(n);q?(l=h,n=q):(o=!1,n=d?n:(e(n),k))}for(;++j<m;){var q=a[j],p=d?d(q,j,a):q;if(b?!j||n[n.length-1]!==p:0>l(n,p))(d||o)&&n.push(p),k.push(q)}o?(e(n.array),g(n)):d&&e(n);return k});W&&ka&&"function"==
typeof gb&&(ub=Da(gb,a));gb=8==rb(va+"08")?rb:function(a,b){return rb(da(a)?a.replace(Qa,""):a,b||0)};k.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};k.assign=nb;k.at=function(a){for(var b=-1,c=Ea.apply(M,G.call(arguments,1)),e=c.length,g=K(e);++b<e;)g[b]=a[c[b]];return g};k.bind=Da;k.bindAll=function(a){for(var b=1<arguments.length?Ea.apply(M,G.call(arguments,1)):Q(a),c=-1,e=b.length;++c<e;){var g=b[c];a[g]=Da(a[g],a)}return a};k.bindKey=function(a,b){return p(a,
b,G.call(arguments,2),r)};k.compact=function(a){for(var b=-1,c=a?a.length:0,e=[];++b<c;){var g=a[b];g&&e.push(g)}return e};k.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};k.countBy=function(a,b,c){var e={},b=k.createCallback(b,c);x(a,function(a,c,g){c=ca(b(a,c,g));H.call(e,c)?e[c]++:e[c]=1});return e};k.createCallback=function(a,b,c){if(null==a)return ib;var e=typeof a;if("function"!=e){if("object"!=e)return function(b){return b[a]};
var g=S(a);return function(b){for(var c=g.length,e=!1;c--&&(e=la(b[g[c]],a[g[c]],r)););return e}}return"undefined"==typeof b||ga&&!ga.test(Lb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,e){return a.call(b,c,e)}:4===c?function(c,e,g,f){return a.call(b,c,e,g,f)}:function(c,e,g){return a.call(b,c,e,g)}};k.debounce=$a;k.defaults=sb;k.defer=ub;k.delay=function(a,b){var c=G.call(arguments,2);return eb(function(){a.apply(w,c)},b)};k.difference=Ja;k.filter=X;k.flatten=jb;k.forEach=x;
k.forIn=ta;k.forOwn=C;k.functions=Q;k.groupBy=function(a,b,c){var e={},b=k.createCallback(b,c);x(a,function(a,c,g){c=ca(b(a,c,g));(H.call(e,c)?e[c]:e[c]=[]).push(a)});return e};k.initial=function(a,b,c){if(!a)return[];var e=0,g=a.length;if("number"!=typeof b&&null!=b)for(var f=g,b=k.createCallback(b,c);f--&&b(a[f],f,a);)e++;else e=null==b||c?1:b||e;return o(a,0,cb($(0,g-e),g))};k.intersection=function(a){for(var b=arguments,d=b.length,j=-1,l=c(),m=-1,k=z(),o=a?a.length:0,n=[],q=c();++j<d;){var p=
b[j];l[j]=k===i&&(p?p.length:0)>=t&&f(j?b[j]:q)}a:for(;++m<o;){var r=l[0],p=a[m];if(0>(r?h(r,p):k(q,p))){j=d;for((r||q).push(p);--j;)if(r=l[j],0>(r?h(r,p):k(b[j],p)))continue a;n.push(p)}}for(;d--;)(r=l[d])&&g(r);e(l);e(q);return n};k.invert=Ua;k.invoke=function(a,b){var c=G.call(arguments,2),e=-1,g="function"==typeof b,f=a?a.length:0,d=K("number"==typeof f?f:0);x(a,function(a){d[++e]=(g?b:a[b]).apply(a,c)});return d};k.keys=S;k.map=ya;k.max=Ma;k.memoize=function(a,b){function c(){var e=c.cache,g=
Ga+(b?b.apply(this,arguments):arguments[0]);return H.call(e,g)?e[g]:e[g]=a.apply(this,arguments)}c.cache={};return c};k.merge=Va;k.min=function(a,b,c){var e=Infinity,g=e;if(!b&&R(a))for(var c=-1,f=a.length;++c<f;){var d=a[c];d<g&&(g=d)}else b=!b&&da(a)?j:k.createCallback(b,c),x(a,function(a,c,f){c=b(a,c,f);c<e&&(e=c,g=a)});return g};k.omit=function(a,b,c){var e=z(),g="function"==typeof b,f={};if(g)b=k.createCallback(b,c);else var d=Ea.apply(M,G.call(arguments,1));ta(a,function(a,c,j){if(g?!b(a,c,
j):0>e(d,c))f[c]=a});return f};k.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};k.pairs=function(a){for(var b=-1,c=S(a),e=c.length,g=K(e);++b<e;){var f=c[b];g[b]=[f,a[f]]}return g};k.partial=function(a){return p(a,G.call(arguments,1))};k.partialRight=function(a){return p(a,G.call(arguments,1),null,r)};k.pick=function(a,b,c){var e={};if("function"!=typeof b)for(var g=-1,f=Ea.apply(M,G.call(arguments,1)),d=F(a)?f.length:0;++g<d;){var j=f[g];
j in a&&(e[j]=a[j])}else b=k.createCallback(b,c),ta(a,function(a,c,g){b(a,c,g)&&(e[c]=a)});return e};k.pluck=ma;k.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);for(var e=-1,b=$(0,Kb((b-a)/c)),g=K(b);++e<b;)g[e]=a,a+=c;return g};k.reject=function(a,b,c){b=k.createCallback(b,c);return X(a,function(a,c,e){return!b(a,c,e)})};k.rest=Ka;k.shuffle=function(a){var b=-1,c=a?a.length:0,e=K("number"==typeof c?c:0);x(a,function(a){var c=Eb(Fb()*(++b+1));e[b]=e[c];e[c]=a});return e};k.sortBy=function(a,
b,c){var e=-1,f=a?a.length:0,d=K("number"==typeof f?f:0),b=k.createCallback(b,c);x(a,function(a,c,g){var f=d[++e]=m();f.criteria=b(a,c,g);f.index=e;f.value=a});f=d.length;for(d.sort(l);f--;)a=d[f],d[f]=a.value,g(a);return d};k.tap=function(a,b){b(a);return a};k.throttle=function(a,b,c){var e=!0,f=!0;!1===c?e=!1:F(c)&&(e="leading"in c?c.leading:e,f="trailing"in c?c.trailing:f);c=m();c.leading=e;c.maxWait=b;c.trailing=f;a=$a(a,b,c);g(c);return a};k.times=function(a,b,c){for(var a=-1<(a=+a)?a:0,e=-1,
g=K(a),b=k.createCallback(b,c,1);++e<a;)g[e]=b(e);return g};k.toArray=function(a){return a&&"number"==typeof a.length?o(a):qa(a)};k.transform=function(a,b,c,e){var g=R(a),b=k.createCallback(b,e,4);null==c&&(g?c=[]:(e=a&&a.constructor,c=F(e&&e.prototype)?bb(e&&e.prototype):{}));(g?x:C)(a,function(a,e,g){return b(c,a,e,g)});return c};k.union=function(a){R(a)||(arguments[0]=a?G.call(a):M);return tb(Ea.apply(M,arguments))};k.uniq=tb;k.unzip=Ca;k.values=qa;k.where=X;k.without=function(a){return Ja(a,G.call(arguments,
1))};k.wrap=function(a,b){return function(){var c=[a];fb.apply(c,arguments);return b.apply(this,c)}};k.zip=function(a){return a?Ca(arguments):[]};k.zipObject=Za;k.collect=ya;k.drop=Ka;k.each=x;k.extend=nb;k.methods=Q;k.object=Za;k.select=X;k.tail=Ka;k.unique=tb;vb(k);k.chain=k;k.prototype.chain=function(){return this};k.clone=za;k.cloneDeep=function(a,b,c){return za(a,!0,b,c)};k.contains=Wa;k.escape=function(a){return null==a?"":ca(a).replace(E,s)};k.every=xa;k.find=pa;k.findIndex=function(a,b,c){for(var e=
-1,g=a?a.length:0,b=k.createCallback(b,c);++e<g;)if(b(a[e],e,a))return e;return-1};k.findKey=function(a,b,c){var e,b=k.createCallback(b,c);C(a,function(a,c,g){if(b(a,c,g))return e=c,!1});return e};k.has=function(a,b){return a?H.call(a,b):!1};k.identity=ib;k.indexOf=Ya;k.isArguments=function(a){return N.call(a)==U};k.isArray=R;k.isBoolean=function(a){return!0===a||!1===a||N.call(a)==ba};k.isDate=function(a){return a?"object"==typeof a&&N.call(a)==ia:!1};k.isElement=function(a){return a?1===a.nodeType:
!1};k.isEmpty=function(a){var b=!0;if(!a)return b;var c=N.call(a),e=a.length;if(c==oa||c==T||c==U||c==L&&"number"==typeof e&&Z(a.splice))return!e;C(a,function(){return b=!1});return b};k.isEqual=la;k.isFinite=function(a){return Mb(a)&&!Nb(parseFloat(a))};k.isFunction=Z;k.isNaN=function(a){return Aa(a)&&a!=+a};k.isNull=function(a){return null===a};k.isNumber=Aa;k.isObject=F;k.isPlainObject=ob;k.isRegExp=function(a){return a?"object"==typeof a&&N.call(a)==fa:!1};k.isString=da;k.isUndefined=function(a){return"undefined"==
typeof a};k.lastIndexOf=function(a,b,c){var e=a?a.length:0;for("number"==typeof c&&(e=(0>c?$(0,e+c):cb(c,e-1))+1);e--;)if(a[e]===b)return e;return-1};k.mixin=vb;k.noConflict=function(){a._=Jb;return this};k.parseInt=gb;k.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=Fb();return a%1||b%1?a+cb(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Eb(c*(b-a+1))};k.reduce=ra;k.reduceRight=Ba;k.result=function(a,b){var c=a?a[b]:w;return Z(c)?a[b]():c};k.runInContext=q;
k.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:S(a).length};k.some=Xa;k.sortedIndex=Ta;k.template=function(a,c,e){var g=k.templateSettings;a||(a="");var e=sb({},e,g),f=sb({},e.imports,g.imports),g=S(f),f=qa(f),d,j=0,h=e.interpolate||aa,l="__p += '",h=mb((e.escape||aa).source+"|"+h.source+"|"+(h===Pa?ua:aa).source+"|"+(e.evaluate||aa).source+"|$","g");a.replace(h,function(c,e,g,f,h,i){g||(g=f);l+=a.slice(j,i).replace(Ha,b);e&&(l+="' +\n__e("+e+") +\n'");h&&(d=!0,l+="';\n"+h+";\n__p += '");
g&&(l+="' +\n((__t = ("+g+")) == null ? '' : __t) +\n'");j=i+c.length;return c});var l=l+"';\n",i=h=e.variable;i||(h="obj",l="with ("+h+") {\n"+l+"\n}\n");l=(d?l.replace(u,""):l).replace(D,"$1").replace(B,"$1;");l="function("+h+") {\n"+(i?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(d?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";e="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+wa++ +"]")+"\n*/";
try{var m=kb(g,"return "+l+e).apply(w,f)}catch(o){throw o.source=l,o;}if(c)return m(c);m.source=l;return m};k.unescape=function(a){return null==a?"":ca(a).replace(v,ja)};k.uniqueId=function(a){var b=++J;return ca(null==a?"":a)+b};k.all=xa;k.any=Xa;k.detect=pa;k.findWhere=pa;k.foldl=ra;k.foldr=Ba;k.include=Wa;k.inject=ra;C(k,function(a,b){k.prototype[b]||(k.prototype[b]=function(){var b=[this.__wrapped__];fb.apply(b,arguments);return a.apply(k,b)})});k.first=sa;k.last=function(a,b,c){if(a){var e=0,
g=a.length;if("number"!=typeof b&&null!=b)for(var f=g,b=k.createCallback(b,c);f--&&b(a[f],f,a);)e++;else if(e=b,null==e||c)return a[g-1];return o(a,$(0,g-e))}};k.take=sa;k.head=sa;C(k,function(a,b){k.prototype[b]||(k.prototype[b]=function(b,c){var e=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?e:new n(e)})});k.VERSION="1.3.1";k.prototype.toString=function(){return ca(this.__wrapped__)};k.prototype.value=wb;k.prototype.valueOf=wb;x(["join","pop","shift"],function(a){var b=M[a];k.prototype[a]=
function(){return b.apply(this.__wrapped__,arguments)}});x(["push","reverse","sort","unshift"],function(a){var b=M[a];k.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});x(["concat","slice","splice"],function(a){var b=M[a];k.prototype[a]=function(){return new n(b.apply(this.__wrapped__,arguments))}});return k}var w,p=[],n=[],J=0,r={},Ga=+new Date+"",t=75,s=40,u=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,v=/&(?:amp|lt|gt|quot|#39);/g,ua=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
Oa=/\w*$/,Pa=/<%=([\s\S]+?)%>/g,ga=(ga=/\bthis\b/)&&ga.test(q)&&ga,va=" \t\u000b\u000c\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",Qa=RegExp("^["+va+"]*0+(?=.$)"),aa=/($^)/,E=/[&<>"']/g,Ha=/['\n\r\t\u2028\u2029\\]/g,ha="Array,Boolean,Date,Function,Math,Number,Object,RegExp,String,_,attachEvent,clearTimeout,isFinite,isNaN,parseInt,setImmediate,setTimeout".split(","),wa=0,U="[object Arguments]",oa="[object Array]",ba="[object Boolean]",
ia="[object Date]",Ia="[object Function]",P="[object Number]",L="[object Object]",fa="[object RegExp]",T="[object String]",y={};y[Ia]=!1;y[U]=y[oa]=y[ba]=y[ia]=y[P]=y[L]=y[fa]=y[T]=!0;var A={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},z={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ja=A[typeof exports]&&exports,ka=A[typeof module]&&module&&module.exports==ja&&module,Y=A[typeof global]&&global;if(Y&&(Y.global===Y||Y.window===Y))d=Y;var O=
q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d._=O,define(function(){return O})):ja&&!ja.nodeType?ka?(ka.exports=O)._=O:ja._=O:d._=O})(this)},"frozen/utils/radiansFromCenter":function(){define(function(){var d={x:0,y:0};return function(i,h){i=i||d;return i.x===h.x&&i.y===h.y?0:i.x===h.x?i.y>h.y?0:Math.PI:i.y===h.y?i.x>h.x?1.5*Math.PI:Math.PI/2:i.x<h.x&&i.y>h.y?Math.atan((h.x-i.x)/(i.y-h.y)):i.x<h.x&&i.y<h.y?Math.PI/2+Math.atan((h.y-i.y)/(h.x-i.x)):i.x>h.x&&i.y<h.y?Math.PI+
Math.atan((i.x-h.x)/(h.y-i.y)):1.5*Math.PI+Math.atan((i.y-h.y)/(i.x-h.x))}})},"game/update":function(){define("./levelData,lodash,frozen/utils/radiansFromCenter,frozen/plugins/loadSound!sounds/clack,frozen/plugins/loadSound!sounds/hole,frozen/plugins/loadSound!sounds/laugh".split(","),function(d,i,h,a,j,l){return function(f){var b=this.entities,c=b.ball,m=this.ui,e=b.goal,g=this.box,o=d[this.level];c&&0>=this.ui.scoreTime&&(c.collisions&&0<c.collisions.length&&i.forEach(c.collisions,function(b){1<
b.impulse&&(b=Math.min(b.impulse,50)/50,a.play(b,0))}),c.touching.goal?Math.sqrt(c.linearVelocity.x*c.linearVelocity.x+c.linearVelocity.y*c.linearVelocity.y)<o.maxGoalVelocity?(m.setTime("scoreTime"),m.totalScore+=this.ui.strokes-3,j.play(),7<m.strokes&&l.play(),g.setPosition(c.id,e.x,e.y),g.setLinearVelocity(c.id,0,0),g.setAngularVelocity(c.id,0)):m.setTime("messageTime"):i.forEach(c.touching,function(a,e){if(a){var f=b[e];f.water?(f=i.find(o.entities,{id:"ball"}),g.setPosition(c.id,f.x/g.scale,
f.y/g.scale),g.setLinearVelocity(c.id,0,0),g.setAngularVelocity(c.id,0),m.setTime("waterTime")):"Rectangle"===f.type||"Polygon"===f.type?g.applyImpulseDegrees(c.id,f.impulseAngle,0.2*f.impulsePercentage):f.impulseInward?g.applyImpulse(c.id,h(f,c)+Math.PI,0.2*f.impulsePercentage):g.applyImpulse(c.id,h(f,c),0.2*f.impulsePercentage)}}));m.update(f);m.changeLevel&&(this.level++,this.loadLevel(this.level))}})},"game/levelData":function(){define("lodash,frozen/plugins/loadImage!images/hole1.png,frozen/plugins/loadImage!images/hole2.png,frozen/plugins/loadImage!images/hole3.png,frozen/plugins/loadImage!images/hole4.png,frozen/plugins/loadImage!images/hole5.png,frozen/plugins/loadImage!images/hole6.png,frozen/plugins/loadImage!images/hole7.png,frozen/plugins/loadImage!images/hole8.png,frozen/plugins/loadImage!images/hole9.png,frozen/plugins/loadImage!images/hole10.png,frozen/plugins/loadImage!images/hole11.png,frozen/plugins/loadImage!images/hole12.png".split(","),
function(d,i,h,a,j,l,f,b,c,m,e,g,o){var q=[{entities:[{x:347,y:48,halfWidth:345,halfHeight:46,staticBody:!0,type:"Rectangle",id:0},{x:25,y:236,halfWidth:22,halfHeight:196,staticBody:!0,type:"Rectangle",id:1},{x:350,y:385,halfWidth:342,halfHeight:50,staticBody:!0,type:"Rectangle",id:2},{x:669.5,y:221,halfWidth:26.5,halfHeight:187,staticBody:!0,type:"Rectangle",id:3},{x:89,y:147,radius:8,linearDamping:0.5,angularDamping:0.4,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:605.5,
y:285.5,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:17,y:219,halfWidth:16,halfHeight:185.5,staticBody:!0,type:"Rectangle",id:0},{x:347,y:18.5,halfWidth:346,halfHeight:14.5,staticBody:!0,type:"Rectangle",id:1},{x:347,y:419,halfWidth:345,halfHeight:13,staticBody:!0,type:"Rectangle",id:2},{x:681,y:220,halfWidth:15,halfHeight:180,staticBody:!0,type:"Rectangle",id:3},{x:286,y:215,halfWidth:275.5,
halfHeight:17,staticBody:!0,type:"Rectangle",id:4},{points:[{x:52,y:-72.33333333333331},{x:50,y:34},{x:-102,y:35}],x:616,y:372.3333333333333,staticBody:!0,type:"Polygon",id:5},{points:[{x:45,y:-30},{x:50,y:71},{x:-104,y:-33}],x:618.3333333333334,y:63,staticBody:!0,type:"Polygon",id:6},{x:76,y:110,radius:8,linearDamping:0.5,angularDamping:0.4,staticBody:!1,type:"Circle",id:"ball"},{x:76,y:320,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,id:"goal",fillStyle:"rgba(255,0,0,0.2)"}],joints:[],canvas:{height:440,
width:700},backImg:null},{entities:[{x:349.5,y:59,halfWidth:346.5,halfHeight:54,staticBody:!0,type:"Rectangle",id:0},{x:347,y:384.5,halfWidth:342,halfHeight:45.5,staticBody:!0,type:"Rectangle",id:1},{x:32,y:208,halfWidth:28,halfHeight:201,staticBody:!0,type:"Rectangle",id:2},{x:663,y:227.5,halfWidth:29,halfHeight:185.5,staticBody:!0,type:"Rectangle",id:3},{x:226,y:231,radius:60,staticBody:!0,type:"Circle",id:4},{x:471,y:232,radius:60,staticBody:!0,type:"Circle",id:5},{x:101,y:228.5,radius:8,linearDamping:0.5,
angularDamping:0.4,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:590.5,y:231.5,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:348.5,y:23.5,halfWidth:346.5,halfHeight:21.5,staticBody:!0,type:"Rectangle",id:0},{x:349,y:414.5,halfWidth:344,halfHeight:18.5,staticBody:!0,type:"Rectangle",id:1},{x:59,y:218,halfWidth:31,halfHeight:205,staticBody:!0,type:"Rectangle",id:2},
{x:638,y:213,halfWidth:35,halfHeight:196,staticBody:!0,type:"Rectangle",id:3},{x:573,y:333,radius:8,linearDamping:0.5,angularDamping:0.4,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:114.5,y:119.5,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"},{x:275,y:220,halfWidth:140,halfHeight:174,staticBody:!0,type:"Rectangle",sensor:!0,impulseAngle:90,impulsePercentage:1,hill:!0,fillStyle:"rgba(255,0,0,0.2)",id:4}],joints:[],canvas:{height:440,
width:700},backImg:null},{entities:[{x:20.5,y:218,halfWidth:18.5,halfHeight:217,staticBody:!0,type:"Rectangle",id:0},{x:349.5,y:418.5,halfWidth:347.5,halfHeight:18.5,staticBody:!0,type:"Rectangle",id:1},{x:350.5,y:19,halfWidth:346.5,halfHeight:19,staticBody:!0,type:"Rectangle",id:2},{points:[{x:86,y:-75},{x:87,y:147},{x:-175,y:-72}],x:607,y:101,staticBody:!0,type:"Polygon",id:3},{points:[{x:87.33333333333337,y:-148.33333333333331},{x:88.33333333333337,y:75.66666666666669},{x:-177,y:72.66666666666669}],
x:605.6666666666666,y:338.3333333333333,staticBody:!0,type:"Polygon",id:4},{x:140.5,y:218.5,halfWidth:21.5,halfHeight:120.5,staticBody:!0,type:"Rectangle",id:5},{x:186.5,y:229.5,radius:8,linearDamping:0.5,angularDamping:0.4,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:76,y:227.5,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:22.5,y:218,halfWidth:21.5,halfHeight:217,
staticBody:!0,type:"Rectangle",id:0},{x:674,y:219,halfWidth:22,halfHeight:215,staticBody:!0,type:"Rectangle",id:1},{x:348.5,y:412.5,halfWidth:347.5,halfHeight:24.5,staticBody:!0,type:"Rectangle",id:2},{x:349.5,y:30,halfWidth:346.5,halfHeight:26,staticBody:!0,type:"Rectangle",id:3},{x:373.5,y:111.5,halfWidth:106.5,halfHeight:92.5,staticBody:!0,type:"Rectangle",id:4},{x:372,y:338,halfWidth:107,halfHeight:90,staticBody:!0,type:"Rectangle",id:5},{x:151.5,y:374.5,radius:8,staticBody:!1,type:"Circle",id:"ball",
fillStyle:"rgba(0,255,0,0.4)"},{x:617,y:224.5,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"},{x:155,y:300.5,halfWidth:110,halfHeight:52.5,staticBody:!0,type:"Rectangle",sensor:!0,impulsePercentage:1,impulseAngle:180,fillStyle:"rgba(255,0,0,0.2)",id:8},{x:155.5,y:145,halfWidth:110.5,halfHeight:59,staticBody:!0,type:"Rectangle",sensor:!0,impulsePercentage:1,impulseAngle:0,fillStyle:"rgba(255,0,0,0.2)",id:9}],joints:[],canvas:{height:440,width:700},backImg:null},
{entities:[{points:[{x:35,y:-95},{x:35,y:80},{x:-35,y:144},{x:-35,y:-129}],x:37,y:256,staticBody:!0,type:"Polygon",id:0},{points:[{x:61,y:-88.5},{x:84,y:-20.5},{x:-38,y:71.5},{x:-107,y:37.5}],x:111,y:89.5,staticBody:!0,type:"Polygon",id:1},{points:[{x:180.75,y:-28.5},{x:162.75,y:31.5},{x:-160.25,y:32.5},{x:-183.25,y:-35.5}],x:356.25,y:36.5,staticBody:!0,type:"Polygon",id:2},{points:[{x:-58.5,y:-60.75},{x:98.5,y:3.25},{x:36.5,y:57.25},{x:-77,y:1}],x:596.5,y:66.75,staticBody:!0,type:"Polygon",id:3},
{points:[{x:-24.75,y:-108},{x:40.25,y:-164},{x:31.25,y:175},{x:-46.75,y:97}],x:657.75,y:232,staticBody:!0,type:"Polygon",id:4},{points:[{x:140.5,y:-56.25},{x:218.5,y:20.75},{x:-178.5,y:43.75},{x:-180.5,y:-8.25}],x:470.5,y:386.25,staticBody:!0,type:"Polygon",id:5},{points:[{x:-92,y:-49.25},{x:126,y:-7.25},{x:128,y:42.75},{x:-162,y:13.75}],x:165,y:385.25,staticBody:!0,type:"Polygon",id:6},{points:[{x:25.25,y:-78},{x:67.25,y:-79.25},{x:-20.75,y:69.75},{x:-74,y:86}],x:261.75,y:144.25,staticBody:!0,type:"Polygon",
id:7},{points:[{x:-51,y:-43},{x:74,y:13},{x:77,y:54},{x:-102,y:-26}],x:291,y:256,staticBody:!0,type:"Polygon",id:8},{points:[{x:46,y:-47},{x:81,y:-27},{x:-63.5,y:57},{x:-65,y:16}],x:430,y:253,staticBody:!0,type:"Polygon",id:9},{points:[{x:14.5,y:-53},{x:19.5,y:46},{x:-15.5,y:28},{x:-18.5,y:-21}],x:491.5,y:180,staticBody:!0,type:"Polygon",id:10},{points:[{x:-75.75,y:-13.25},{x:102.25,y:-24.25},{x:70.25,y:12.75},{x:-96.75,y:24.75}],x:402.75,y:151.25,staticBody:!0,type:"Polygon",id:11},{x:223.5,y:90.5,
radius:8,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:448,y:193,radius:6.77,staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:23,y:218.5,halfWidth:20,halfHeight:218.5,staticBody:!0,type:"Rectangle",id:0},{x:349.5,y:418.5,halfWidth:347.5,halfHeight:19.5,staticBody:!0,type:"Rectangle",id:1},{x:348.5,y:20,halfWidth:346.5,halfHeight:19,staticBody:!0,type:"Rectangle",id:2},{x:679,
y:221,halfWidth:20,halfHeight:216,staticBody:!0,type:"Rectangle",id:3},{x:242.5,y:164.5,halfWidth:213.5,halfHeight:16.5,staticBody:!0,type:"Rectangle",id:4},{x:245,y:286.5,halfWidth:211,halfHeight:16.5,staticBody:!0,type:"Rectangle",id:5},{points:[{x:29.33333333333337,y:-47},{x:30.33333333333337,y:48},{x:-60,y:-1}],x:634.6666666666666,y:226,staticBody:!0,type:"Polygon",id:6},{x:69.5,y:199.5,radius:8,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:637,y:57.5,radius:6.77,staticBody:!0,
type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:349.5,y:25.5,halfWidth:347.5,halfHeight:24.5,staticBody:!0,type:"Rectangle",id:0},{x:73.5,y:221,halfWidth:70.5,halfHeight:216,staticBody:!0,type:"Rectangle",id:1},{x:349.5,y:418.5,halfWidth:347.5,halfHeight:19.5,staticBody:!0,type:"Rectangle",id:2},{x:659.5,y:221.5,halfWidth:38.5,halfHeight:214.5,staticBody:!0,type:"Rectangle",id:3},{x:177.5,y:87.5,radius:8,staticBody:!1,
type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:436.5,y:227.5,radius:50,staticBody:!0,type:"Circle",sensor:!0,impulseInward:!0,impulsePercentage:2,fillStyle:"rgba(255,0,0,0.2)",id:5},{x:436.5,y:227.5,radius:145,staticBody:!0,type:"Circle",sensor:!0,impulsePercentage:1,impulseInward:!1,fillStyle:"rgba(255,0,0,0.2)",id:6},{x:436.5,y:227.5,radius:159,staticBody:!0,type:"Circle",sensor:!0,impulsePercentage:0.2,impulseInward:!1,fillStyle:"rgba(255,0,0,0.2)",id:7},{x:436.5,y:227.5,radius:6.77,
staticBody:!0,type:"Circle",sensor:!0,fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{points:[{x:-107.75,y:-138.5},{x:109.25,y:-0.5},{x:107.25,y:1.5},{x:-108.75,y:137.5}],x:199.75,y:222.5,staticBody:!0,type:"Polygon",id:0},{points:[{x:-2.75,y:-57.75},{x:68.25,y:15.25},{x:-7.75,y:57.25},{x:-57.75,y:-14.75}],x:135.75,y:374.75,staticBody:!0,type:"Polygon",id:3},{points:[{x:-1,y:-55.25},{x:69,y:-15.25},{x:-5,y:62.75},{x:-63,y:7.75}],x:139,y:65.25,
staticBody:!0,type:"Polygon",id:4},{points:[{x:194.5,y:-77.5},{x:2.5,y:80.5},{x:0.5,y:81.5},{x:-197.5,y:-84.5}],x:340.5,y:111.5,staticBody:!0,type:"Polygon",id:5},{points:[{x:7.2000000000000455,y:-61.8},{x:60.200000000000045,y:6.200000000000003},{x:2.2000000000000455,y:42.2},{x:0.20000000000004547,y:42.2},{x:-69.79999999999995,y:-28.799999999999997}],x:546.8,y:77.8,staticBody:!0,type:"Polygon",id:6},{points:[{x:-97.5,y:1.75},{x:106.5,y:-127.25},{x:88.5,y:122.75},{x:-97.5,y:2.75}],x:472.5,y:219.25,
staticBody:!0,type:"Polygon",id:7},{points:[{x:14.75,y:-47.25},{x:47.75,y:-12.25},{x:-11.25,y:40.75},{x:-51.25,y:18.75}],x:534.25,y:368.25,staticBody:!0,type:"Polygon",id:8},{points:[{x:2.3333333333333144,y:-91},{x:164.33333333333331,y:42},{x:-166.66666666666669,y:49}],x:339.6666666666667,y:343,staticBody:!0,type:"Polygon",id:9},{x:175,y:113,radius:8,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:181,y:330.5,radius:6.77,staticBody:!0,sensor:!0,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",
id:"goal"}],joints:[],canvas:{height:440,width:700},backImg:null},{entities:[{x:272,y:180,halfWidth:259,halfHeight:27,staticBody:!0,type:"Rectangle",id:0},{x:27,y:129.5,halfWidth:24,halfHeight:127.5,staticBody:!0,type:"Rectangle",id:1},{x:348.5,y:26,halfWidth:344.5,halfHeight:26,staticBody:!0,type:"Rectangle",id:2},{x:675,y:214.5,halfWidth:23,halfHeight:211.5,staticBody:!0,type:"Rectangle",id:3},{x:592.5,y:414,halfWidth:101.5,halfHeight:22,staticBody:!0,type:"Rectangle",id:4},{x:524.5,y:288,halfWidth:25.5,
halfHeight:114,staticBody:!0,type:"Rectangle",id:5},{points:[{x:12.666666666666629,y:-17.333333333333336},{x:8.666666666666629,y:22.666666666666664},{x:-21.33333333333337,y:-5.333333333333336}],x:647.3333333333334,y:53.333333333333336,staticBody:!0,type:"Polygon",id:6},{points:[{x:-1.5,y:-17.25},{x:17.5,y:2.75},{x:2.5,y:18.75},{x:-18.5,y:-4.25}],x:532.5,y:169.25,staticBody:!0,type:"Polygon",id:7},{x:591,y:112,radius:6,staticBody:!0,type:"Circle",id:"pin"},{x:591,y:112,halfWidth:55,halfHeight:8,staticBody:!1,
type:"Rectangle",fillStyle:"#855E42",strokeStyle:"#855E42",id:"bar"},{x:90.5,y:104.5,radius:8,staticBody:!1,type:"Circle",id:"ball",fillStyle:"rgba(0,255,0,0.4)"},{x:601,y:363,radius:6.77,staticBody:!0,sensor:!0,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",id:"goal"}],joints:[{bodyId1:"pin",bodyId2:"bar",type:"Revolute",id:"hj",jointAttributes:{motorSpeed:-4,enableMotor:!0,maxMotorTorque:3500}}],canvas:{height:440,width:700},backImg:null},{entities:[{points:[{x:-102,y:-15.5},{x:112,y:-17.5},{x:128,
y:15.5},{x:-138,y:17.5}],x:255,y:412.5,staticBody:!0,sensor:!1,type:"Polygon",id:0},{points:[{x:29,y:-44.5},{x:58,y:-6.5},{x:-40,y:41.5},{x:-47,y:9.5}],x:413,y:383.5,staticBody:!0,sensor:!1,type:"Polygon",id:1},{points:[{x:-58.80000000000001,y:-9},{x:75.19999999999999,y:-28},{x:90.19999999999999,y:7},{x:-46.80000000000001,y:38},{x:-59.80000000000001,y:-8}],x:501.8,y:346,staticBody:!0,sensor:!1,type:"Polygon",id:2},{points:[{x:-21.5,y:-46.25},{x:61.5,y:25.75},{x:33.5,y:62.75},{x:-73.5,y:-42.25}],x:90.5,
y:370.25,staticBody:!0,sensor:!1,type:"Polygon",id:3},{points:[{x:-28.799999999999997,y:-161.2},{x:16.200000000000003,y:-113.19999999999999},{x:21.200000000000003,y:82.80000000000001},{x:21.200000000000003,y:84.80000000000001},{x:-29.799999999999997,y:106.80000000000001}],x:48.8,y:239.2,staticBody:!0,sensor:!1,type:"Polygon",id:4},{points:[{x:56.5,y:-59.5},{x:54.5,y:-21.5},{x:-31.5,y:57.5},{x:-79.5,y:23.5}],x:96.5,y:67.5,staticBody:!0,sensor:!1,type:"Polygon",id:5},{points:[{x:122.5,y:-19.25},{x:89.5,
y:15.75},{x:-94.5,y:19.75},{x:-117.5,y:-16.25}],x:245.5,y:26.25,staticBody:!0,sensor:!1,type:"Polygon",id:6},{points:[{x:-43,y:-55.5},{x:69,y:19.5},{x:25,y:49.5},{x:-51,y:-13.5}],x:387,y:55.5,staticBody:!0,sensor:!1,type:"Polygon",id:7},{points:[{x:111,y:-13.5},{x:76,y:29.5},{x:-91,y:21.5},{x:-96,y:-37.5}],x:503,y:84.5,staticBody:!0,sensor:!1,type:"Polygon",id:8},{points:[{x:5.25,y:-43.25},{x:20.25,y:35.75},{x:-9.75,y:16.75},{x:-15.75,y:-9.25}],x:592.75,y:119.25,staticBody:!0,sensor:!1,type:"Polygon",
id:9},{points:[{x:23.5,y:-31.75},{x:26.5,y:34.25},{x:-24.5,y:25.25},{x:-25.5,y:-27.75}],x:571.5,y:166.75,staticBody:!0,sensor:!1,type:"Polygon",id:10},{points:[{x:-12.200000000000045,y:-9.800000000000011},{x:13.799999999999955,y:-16.80000000000001},{x:17.799999999999955,y:14.199999999999989},{x:-7.2000000000000455,y:19.19999999999999},{x:-12.200000000000045,y:-6.800000000000011}],x:593.2,y:201.8,staticBody:!0,sensor:!1,type:"Polygon",id:11},{points:[{x:22.25,y:-31.5},{x:24.25,y:31.5},{x:-21.75,y:19.5},
{x:-24.75,y:-19.5}],x:571.75,y:238.5,staticBody:!0,sensor:!1,type:"Polygon",id:12},{points:[{x:-4,y:-16.75},{x:18,y:-10.75},{x:5,y:19.25},{x:-19,y:8.25}],x:590,y:274.75,staticBody:!0,sensor:!1,type:"Polygon",id:13},{points:[{x:-26.75,y:-16},{x:27.25,y:-17},{x:27.25,y:20},{x:-27.75,y:13}],x:578.75,y:293,staticBody:!0,sensor:!1,type:"Polygon",id:14},{points:[{x:-2,y:-13.5},{x:26,y:-17.5},{x:-9,y:31.5},{x:-15,y:-0.5}],x:589,y:320.5,staticBody:!0,sensor:!1,type:"Polygon",id:15},{x:225,y:145,radius:41,
staticBody:!0,sensor:!0,water:!0,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",id:16},{x:221,y:286.5,radius:40,staticBody:!0,sensor:!0,water:!0,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",id:17},{points:[{x:-20.5,y:4.25},{x:29.5,y:-16.75},{x:11.5,y:6.25},{x:-20.5,y:6.25}],x:341.5,y:221.75,staticBody:!0,sensor:!0,water:!0,type:"Polygon",fillStyle:"rgba(255,0,0,0.2)",id:18},{points:[{x:-23.80000000000001,y:-10.199999999999989},{x:7.199999999999989,y:-12.199999999999989},{x:24.19999999999999,y:8.800000000000011},
{x:16.19999999999999,y:22.80000000000001},{x:-23.80000000000001,y:-9.199999999999989}],x:343.8,y:236.2,staticBody:!0,sensor:!0,water:!0,type:"Polygon",fillStyle:"rgba(255,0,0,0.2)",id:19},{x:114,y:214,radius:6.77,staticBody:!0,sensor:!0,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",id:"goal"},{x:551.5,y:204,radius:6.708203932499369,staticBody:!1,type:"Circle",fillStyle:"rgba(255,0,0,0.2)",id:"ball"}],joints:[],canvas:{height:440,width:700},backImg:null}],w=Array.prototype.slice.call(arguments,1);d.forEach(q,
function(a,b){a.backImg=w[b];a.maxGoalVelocity=a.maxGoalVelocity||8});return q})},"frozen/plugins/loadImage":function(){define(["../ResourceManager","../utils/parseString"],function(d,i){var h=new d;return{load:function(a,d,l){a=i(a);a=h.loadImage(a);l(a)}}})},"frozen/ResourceManager":function(){define("require,./plugins/sound!,dcl,dcl/bases/Mixer,lodash,dojo/on".split(","),function(d,i,h,a,j,l){function f(a,b){var c=b;a&&(c=[a,b].join("/"));return c.replace(/\/{2,}/g,"/")}function b(a){var b=document.createElement("canvas");
b.height=a.height;b.width=a.width;var c=b.getContext("2d");c.translate(b.width,0);c.scale(-1,1);c.drawImage(a,0,0);return b.toDataURL()}function c(a){var b=document.createElement("canvas");b.height=a.height;b.width=a.width;var c=b.getContext("2d");c.translate(0,b.height);c.scale(1,-1);c.drawImage(a,0,0);return b.toDataURL()}var m=h(null,{name:"",img:null,complete:!1,constructor:function(a){var b=this;b.name=a;b.img=new Image;l.once(b.img,"load",function(){b.complete=!0})},load:function(){this.img.src=
d.toUrl(this.name)}});return h(a,{allLoaded:!1,imageDir:null,soundDir:null,resourceList:{},loadImage:function(a){var b=!1;if("object"!==typeof a)if("string"===typeof a)b=!0,a=[a];else return;var c=this,a=j.transform(a,function(a,b,e){b=f(c.imageDir,b);if(c.resourceList[b])return a[e]=c.resourceList[b].img;c.allLoaded=!1;var g=new m(b);g.load();c.resourceList[b]=g;a[e]=g.img});return b?a[0]:a},loadSound:function(a){var b=!1;if("object"!==typeof a)if("string"===typeof a)b=!0,a=[a];else return;var c=
this,a=j.transform(a,function(a,b,e){b=f(c.soundDir,b);if(c.resourceList[b])return a[e]=c.resourceList[b];c.allLoaded=!1;var g=new i(b);c.resourceList[b]=g;a[e]=g});return b?a[0]:a},flipImage:function(a,b,c){this.allLoaded=!1;var f=new m(a);this.resourceList[a]=f;l.once(b,"load",function(){f.img.src=c(b)});j.any(this.resourceList,function(a){if(a.img===b&&a.complete)return f.img.src=c(b),!0});return f.img},flipImageX:function(a,c){return this.flipImage(a,c,b)},flipImageY:function(a,b){return this.flipImage(a,
b,c)},resourcesReady:function(){if(!this.allLoaded){for(var a in this.resourceList)if(!this.resourceList[a].complete)return!1;this.allLoaded=!0}return!0},getPercentComplete:function(){var a=0,b=0,c;for(c in this.resourceList){var f=this.resourceList[c];b++;f.complete&&(a+=1)}return 0===b?0:Math.round(100*(a/b))}})})},"frozen/plugins/sound":function(){define(["../sounds/Sound","../sounds/WebAudio","../sounds/HTML5Audio","dojo/has"],function(d,i,h,a){return{load:function(j,l,f){return a("WebAudio")?
f(i):a("HTML5Audio")?f(h):f(d)}}})},"frozen/sounds/Sound":function(){define(["dcl","dojo/has","dojo/sniff"],function(d,i){i.add("shittySound",function(){return!(!i("android")&&!i("ios")||!i("webkit"))});return d(null,{declaredClass:"frozen/sounds/Sound",name:null,complete:!1,formats:{"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"},probably:null,maybe:null,constructor:function(d){if(!this.probably)this.probably=[];if(!this.maybe)this.maybe=
[];"string"===typeof d&&this.load(d)},load:function(d){this.name=d;this.complete=!0},loop:function(){},play:function(){},_initAudio:function(){},_chooseFormat:function(){if(!this.probably.length&&!this.maybe.length){var d=new Audio,a,j;for(a in this.formats)j=d.canPlayType(a),"probably"===j?this.probably.push(this.formats[a]):"maybe"===j&&this.maybe.push(this.formats[a])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""},_nextFormat:function(){if(1<this.probably.length)return this.probably.shift(),
this.probably[0];if(1===this.probably.length&&(this.probably.length=0,this.maybe.length))return this.maybe[0];if(1<this.maybe.length)return this.maybe.shift(),this.maybe[0];if(1===this.maybe.length)this.maybe.length=0;return""}})})},"dcl/dcl":function(){(function(d){"undefined"!=typeof define?define(["./mini"],d):"undefined"!=typeof module?module.exports=d(require("./mini")):dcl=d(dcl)})(function(d){function i(){}function h(a,f,b){var c=a||i,d=f||i,e=b||i,g=function(){var a;c.apply(this,arguments);
try{a=e.apply(this,arguments)}catch(b){a=b}d.call(this,arguments,a);if(a instanceof Error)throw a;return a};g.advices={b:a,a:f,f:b};return g}function a(a){return function(f,b){var c=f._m,j;c&&((j=+c.w[b]||0)&&j!=a&&d._e("set chaining",b,f,a,j),c.w[b]=a)}}var j=d(d.Super,{constructor:function(){this.b=this.f.before;this.a=this.f.after;this.f=this.f.around}});d.mix(d,{Advice:j,advise:function(a){return new j(a)},before:function(a){return new j({before:a})},after:function(a){return new j({after:a})},
around:d.superCall,chainBefore:a(1),chainAfter:a(2),isInstanceOf:function(a,f){if(a instanceof f)return!0;var b=a.constructor._m,c;if(b)for(b=b.b,c=b.length-1;0<=c;--c)if(b[c]===f)return!0;return!1},_sb:function(a,f,b,c){var c=c[b]=d._ec(f,b,"f"),j=d._ec(f,b,"b").reverse(),f=d._ec(f,b,"a"),c=a?d._st(c,1==a?function(a){return d._sc(a.reverse())}:d._sc,b):d._ss(c,b);return!j.length&&!f.length?c||function(){}:h(d._sc(j),d._sc(f),c)}});return d})},"dcl/mini":function(){(function(d){"undefined"!=typeof define?
define([],d):"undefined"!=typeof module?module.exports=d():dcl=d()})(function(){function d(b,e){var g=[0],f,i,m,o,t,s,u,D,B=0,v;if(b)if(b instanceof Array){o={};u=b.slice(0).reverse();for(D=u.length-1;0<=D;--D)if(i=u[D],i._u=i._u||a++,f=i._m){for(s=f.b,B=s.length-1;0<B;--B)v=s[B]._u,o[v]=(o[v]||0)+1;u[D]=s.slice(0)}else u[D]=[i];t={};a:for(;u.length;){for(D=0;D<u.length;++D)if(s=u[D],i=s[0],v=i._u,!o[v]){t[v]||(g.push(i),t[v]=1);s.shift();s.length?--o[s[0]._u]:u.splice(D,1);continue a}d._e("cycle",
e,u)}b=b[0];B=g.length-((o=b._m)&&b===g[g.length-(B=o.b.length)]?B:1)-1}else b._u=b._u||a++,g=g.concat((o=b._m)?o.b:b);f=b?d.delegate(b[l]):{};for(s=b&&(o=b._m)?d.delegate(o.w):{constructor:2};0<B;--B)if(i=g[B],o=i._m,c(f,o&&o.h||i[l]),o)for(v in u=o.w)s[v]=(+s[v]||0)|u[v];for(v in e)h(o=e[v])?s[v]=+s[v]||0:f[v]=o;t={b:g,h:e,w:s,c:{}};g[0]={_m:t,prototype:f};i=f;o=t.w;s=t.b;u=t.c;for(m in o)i[m]=d._sb(o[m],s,m,u);m=f[j];m._m=t;m[l]=f;g[0]=m;return d._p(m)}function i(a){this.f=a}function h(a){return a instanceof
i}var a=0,j="constructor",l="prototype",f=function(){},b={},c,m,e,g,o;(c=function(a,b){for(var c in b)a[c]=b[c]})(d,{mix:c,delegate:function(a){f[l]=a;a=new f;f[l]=null;return a},Super:i,superCall:function(a){return new i(a)},_p:function(a){return a},_e:function(a){throw Error("dcl: "+a);},_f:function(a,b){var c=a.f(b);c.ctr=a.ctr;return c},_ec:m=function(a,c,e){for(var g=a.length-1,f=[],d,j,i="f"==e;d=a[g];--g)if((j=d._m)?(j=j.h).hasOwnProperty(c)&&(h(j=j[c])?i?j.f:j=j[e]:i):i&&(j=d[l][c])&&j!==
b[c])j.ctr=d,f.push(j);return f},_sc:g=function(a){var b=a.length,c;return!b?0:1==b?(c=a[0],function(){c.apply(this,arguments)}):function(){for(var c=0;c<b;++c)a[c].apply(this,arguments)}},_ss:e=function(a,c){for(var e=0,g,f=b[c];g=a[e];++e)f=h(g)?a[e]=d._f(g,f,c):g;return c!=j?f:function(){f.apply(this,arguments)}},_st:o=function(a,b,c){for(var e=0,g,f,i=0;g=a[e];++e)h(g)&&(f=e-i,a[e]=d._f(g,!f?0:1==f?a[i]:b(a.slice(i,e)),c),i=e);f=e-i;return!f?0:1==f&&c!=j?a[i]:b(i?a.slice(i):a)},_sb:function(a,
b,c,f){b=f[c]=m(b,c,"f");return(a?o(b,g,c):e(b,c))||function(){}}});return d})},"frozen/sounds/WebAudio":function(){define("require,./Sound,../utils/removeExtension,dcl,dojo/on,dojo/has,../shims/AudioContext".split(","),function(d,i,h,a,j,l){l.add("WebAudio",function(a){return!!a.AudioContext});var f=null;l("WebAudio")&&(f=new window.AudioContext);if(l("shittySound"))j.once(document,"touchstart",function(){var a=f.createBufferSource();a.buffer=f.createBuffer(1,1,22050);a.connect(f.destination);a.noteOn(0)});
return a(i,{declaredClass:"frozen/sounds/WebAudio",audioContext:f,buffer:null,load:function(a){var c=this;this.name=a;var f=h(a);f===a&&(a=f+this._chooseFormat());a=d.toUrl(a);f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType="arraybuffer";j.once(f,"load",function(a){c.audioContext.decodeAudioData(a.target.response,function(a){c.buffer=a;c.complete=!0},function(){c._nextFormat()?c.load(c.name):c.complete=!0})});f.send()},loop:function(a){this.buffer&&this._initAudio(a,!0).noteOn(0)},play:function(a,
c){this.buffer&&this._initAudio(a,!1).noteOn(c||0)},_initAudio:function(a,c){var c="boolean"===typeof c?c:!1,f=this.audioContext.createBufferSource();f.buffer=this.buffer;f.loop=c;if(a){var e=this.audioContext.createGainNode();e.gain.value=a;f.connect(e);e.connect(this.audioContext.destination)}else f.connect(this.audioContext.destination);return f}})})},"frozen/utils/removeExtension":function(){define(function(){return function(d){return d.replace(/(.*)\.[^.]{1,4}$/,"")}})},"dojo/on":function(){define(["require",
"./_base/kernel","./has"],function(d,i,h){function a(a,c,g,d,j){if(d=c.match(/(.*):(.*)/))return c=d[2],d=d[1],f.selector(d,c).call(j,a,g);h("touch")&&(b.test(c)&&(g=p(g)),!h("event-orientationchange")&&"orientationchange"==c&&(c="resize",a=window,g=p(g)));o&&(g=o(g));if(a.addEventListener){var i=c in e,l=i?e[c]:c;a.addEventListener(l,g,i);return{remove:function(){a.removeEventListener(l,g,i)}}}c="on"+c;throw Error("Target must be an event emitter");}function j(){this.cancelable=!1}function l(){this.bubbles=
!1}d=window.ScriptEngineMajorVersion;h.add("jscript",d&&d()+ScriptEngineMinorVersion()/10);h.add("event-orientationchange",h("touch")&&!h("android"));h.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var f=function(b,c,e,g){return"function"==typeof b.on&&"function"!=typeof c?b.on(c,e):f.parse(b,c,e,a,g,this)};f.pausable=function(a,b,c,e){var g,a=f(a,b,function(){if(!g)return c.apply(this,arguments)},e);a.pause=function(){g=
!0};a.resume=function(){g=!1};return a};f.once=function(a,b,c){var e=f(a,b,function(){e.remove();return c.apply(this,arguments)});return e};f.parse=function(a,b,c,e,g,f){if(b.call)return b.call(f,a,c);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),d=[],j=0,h;h=b[j++];)d.push(e(a,h,c,g,f));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}return e(a,b,c,g,f)};var b=/^touch/;f.selector=function(a,b,c){return function(e,g){function d(b){for(j=j&&j.matches?j:i.query;!j.matches(b,
a,e);)if(b==e||!1===c||!(b=b.parentNode)||1!=b.nodeType)return;return b}var j="function"==typeof a?{matches:a}:this,h=b.bubble;return h?f(e,h(d),g):f(e,b,function(a){var b=d(a.target);return b&&g.call(b,a)})}};var c=[].slice,m=f.emit=function(a,b,e){var g=c.call(arguments,2),f="on"+b;if("parentNode"in a){var d=g[0]={},h;for(h in e)d[h]=e[h];d.preventDefault=j;d.stopPropagation=l;d.target=a;d.type=b;e=d}do a[f]&&a[f].apply(a,g);while(e&&e.bubbles&&(a=a.parentNode));return e&&e.cancelable&&e},e={};
if(!h("event-stopimmediatepropagation"))var g=function(){this.modified=this.immediatelyStopped=!0},o=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=g,a.apply(this,arguments)}};e={focusin:"focus",focusout:"blur"};f.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!c.bubbles,!!c.cancelable);for(var g in c)g in e||(e[g]=c[g]);return a.dispatchEvent(e)&&e}return m.apply(f,arguments)};
if(h("touch"))var q=function(){},w=window.orientation,p=function(a){return function(b){var c=b.corrected;if(!c){var e=b.type;try{delete b.type}catch(g){}b.type?(q.prototype=b,c=new q,c.preventDefault=function(){b.preventDefault()},c.stopPropagation=function(){b.stopPropagation()}):(c=b,c.type=e);b.corrected=c;if("resize"==e){if(w==window.orientation)return null;w=window.orientation;c.type="orientationchange";return a.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var e=c.changedTouches[0],
f;for(f in e)delete c[f],c[f]=e[f]}return a.call(this,c)}};return f})},"frozen/shims/AudioContext":function(){define(function(){for(var d=["ms","moz","webkit","o"],i=0;i<d.length&&!window.AudioContext;++i)window.AudioContext=window[d[i]+"AudioContext"]})},"frozen/sounds/HTML5Audio":function(){define("require,./Sound,../utils/removeExtension,dcl,dojo/on,dojo/has".split(","),function(d,i,h,a,j,l){l.add("HTML5Audio",function(a){return!!a.Audio});return a(i,{declaredClass:"frozen/sounds/HTML5Audio",audio:null,
load:function(a){this.audio=new Audio;var b=this;this.name=a;var c=h(a);c===a&&(a=c+this._chooseFormat());a=d.toUrl(a);if(l("shittySound"))j.once(document,"touchstart",function(){var a=b.audio.volume;b.audio.volume=0;b.audio.play();b.audio.pause();b.audio.volume=a}),this._updateCurrentTime=null,j.once(this.audio,"progress",function(){null!==b._updateCurrentTime&&b._updateCurrentTime()});this.audio.pause();this.audio.preload="auto";j.once(this.audio,"error",function(){b._nextFormat()?b.load(b.name):
(b.audio.src=null,b.complete=!0)});j.once(this.audio,"loadeddata",function(){b.complete=!0});this.audio.src=a},loop:function(a){var b=this._initAudio(a,!0);j.once(b,"loadeddata",function(){b.play()})},play:function(a,b){b=b||0;if(l("shittySound"))try{return this.audio.currentTime=b/1E3,this.audio.play()}catch(c){return this._updateCurrentTime=function(){this._updateCurrentTime=null;this.audio.currentTime=b/1E3;return this.audio.play()},this.audio.play()}var d=this._initAudio(a,!1);j.once(d,"loadeddata",
function(){d.currentTime=b/1E3;d.play()})},_initAudio:function(a,b){var b="boolean"===typeof b?b:!1,c=new Audio;c.pause();c.volume=a||1;c.loop=b;c.preload="auto";c.mozLoadFrom?c.mozLoadFrom(this.audio):c.src=this.audio.currentSrc;return c}})})},"dcl/bases/Mixer":function(){(function(d){"undefined"!=typeof define?define(["../mini"],d):"undefined"!=typeof module?module.exports=d(require("../mini")):dclBasesMixer=d(dcl)})(function(d){return d(null,{declaredClass:"dcl/bases/Mixer",constructor:function(i){d.mix(this,
i)}})})},"frozen/utils/parseString":function(){define(function(){return function(d){0===d.indexOf("{")&&d.lastIndexOf("}")===d.length-1?d=JSON.parse(d.replace(/,/g,'","').replace(/:(?!\/\/)/g,'":"').replace(/\{/,'{"').replace(/\}/,'"}')):0===d.indexOf("[")&&d.lastIndexOf("]")===d.length-1&&(d=JSON.parse(d.replace(/,/g,'","').replace(/\[/g,'["').replace(/\]/g,'"]')));return d}})},"frozen/plugins/loadSound":function(){define(["../ResourceManager","../utils/parseString"],function(d,i){var h=new d;return{load:function(a,
d,l){a=i(a);a=h.loadSound(a);l(a)}}})},"game/draw":function(){define("./levelData,./rotateVector,lodash,dojo/has,frozen/utils/distance,frozen/utils/scalePoints,frozen/utils/translatePoints,frozen/utils/radiansFromCenter".split(","),function(d,i,h,a,j,l,f,b){return function(a){var m=this.entities.ball,e=this.inputManager;a.lineWidth=1;a.drawImage(d[this.level].backImg,0,0,this.width,this.height);m.draw(a);h.forEach(this.entities,function(b){b.staticBody||b.draw(a)});if(e.mouseAction.position){var m=
l(m,m.scale),g=Math.min(j(m,e.mouseAction.position),100)/100,e=b(m,e.mouseAction.position)+Math.PI,e=i({x:0,y:100*g},e),e=f(e,m),o=a.lineWidth,q=10*g/2;a.lineWidth=2<q?q:2;a.beginPath();a.moveTo(m.x,m.y);a.lineTo(e.x,e.y);a.strokeStyle="rgba(255,0,0,"+(0.5<g?g:0.5)+")";a.closePath();a.stroke();a.lineWidth=o}this.ui.draw(a,this.level)}})},"game/rotateVector":function(){define(function(){return function(d,i){return{x:d.x*Math.cos(i)-d.y*Math.sin(i),y:d.x*Math.sin(i)+d.y*Math.cos(i)}}})},"frozen/utils/translatePoints":function(){define(["lodash"],
function(d){function i(h,a){Array.isArray(h)?h=d.map(h,function(d){return i(d,a)}):(h={x:h.x,y:h.y},null!=a.x&&(h.x+=a.x),null!=a.y&&(h.y+=a.y));return h}return i})},"game/loadLevel":function(){define("./Ball,./levelData,lodash,frozen/box2d/entities,frozen/box2d/joints,frozen/utils/scalePoints".split(","),function(d,i,h,a,j){return function(l){if(l>=i.length)this.level=l=0;if(0>l)this.level=l=i.length-1;var f=i[l],b=this;this.ui.reset(l);this.removeBodies(h.toArray(this.entities));this.removeJoints(h.toArray(this.joints));
h.forEach(f.entities,function(c){if("ball"===c.id)b.addBody(new d(c));else{var f=a[c.type];f&&(c=new f(c),b.addBody(c))}});h.forEach(f.joints,function(a){var f=j[a.type];f&&(a=new f(a),b.addJoint(a))})}})},"game/Ball":function(){define(["dcl","frozen/box2d/entities/Circle","frozen/plugins/loadImage!images/golf_texture.png"],function(d,i,h){return d(i,{id:"ball",img:h,staticBody:!1,radius:8,linearDamping:0.5,angularDamping:0.4,touching:{},draw:function(a){a.lineWidth=1;a.fillStyle="#FFF";a.strokeStyle=
"#000";a.beginPath();a.arc(this.x*this.scale,this.y*this.scale,this.radius*this.scale,0,2*Math.PI,!0);a.closePath();a.save();a.beginPath();a.arc(this.x*this.scale,this.y*this.scale,this.radius*this.scale,0,2*Math.PI,!0);a.closePath();a.clip();a.translate(this.x*this.scale,this.y*this.scale);a.rotate(this.angle);a.translate(-this.x*this.scale,-this.y*this.scale);a.drawImage(this.img,this.x*this.scale-8,this.y*this.scale-8,16,16);a.restore();a.beginPath();a.arc(this.x*this.scale,this.y*this.scale,this.radius*
this.scale,0,2*Math.PI,!0);a.closePath();a.stroke()}})})},"frozen/box2d/entities/Circle":function(){define(["dcl","./Entity","../../utils/distance"],function(d,i,h){return d(i,{declaredClass:"frozen/box2d/entities/Circle",radius:1,draw:d.superCall(function(a){return function(d,h){var h=h||this.scale||1,f=d.lineWidth;d.lineWidth=this.lineWidth;d.fillStyle=this.fillStyle;d.strokeStyle=this.strokeStyle;d.beginPath();d.arc(this.x*h,this.y*h,this.radius*h,0,2*Math.PI,!0);d.closePath();d.fill();d.stroke();
this.staticBody||(d.save(),d.translate(this.x*h,this.y*h),d.rotate(this.angle),d.translate(-this.x*h,-this.y*h),d.beginPath(),d.moveTo(this.x*h,this.y*h),d.lineTo(this.x*h,this.y*h-this.radius*h),d.closePath(),d.stroke(),d.restore());d.lineWidth=f;a.apply(this,[d,h])}}),scaleShape:d.superCall(function(a){return function(d){this.radius*=d;a.apply(this,[d])}}),pointInShape:function(a){return h(a,this)<=this.radius}})})},"frozen/box2d/entities/Entity":function(){define(["dcl","dcl/bases/Mixer","lodash"],
function(d,i,h){return d(i,{declaredClass:"frozen/box2d/entities/Entity",id:0,x:0,y:0,scale:null,angle:0,center:null,restitution:0.3,density:1,friction:0.9,linearDamping:0,linearVelocity:null,angularVelocity:0,angularDamping:0,staticBody:!1,fillStyle:"rgba(128,128,128,0.5)",strokeStyle:"#000",lineWidth:1,maskBits:null,categoryBits:null,groupIndex:null,sensor:!1,update:function(a){h.assign(this,a)},draw:function(a,d){var d=d||this.scale||1,h=a.lineWidth;a.lineWidth=this.lineWidth;a.fillStyle=this.strokeStyle;
a.beginPath();a.arc(this.x*d,this.y*d,4,0,2*Math.PI,!0);a.closePath();a.fill();if(this.center)a.fillStyle="yellow",a.beginPath(),a.arc(this.center.x*d,this.center.y*d,2,0,2*Math.PI,!0),a.closePath(),a.fill();a.lineWidth=h},scaleShape:function(a){this.x*=a;this.y*=a;this.alreadyScaled=!0}})})},"frozen/box2d/entities":function(){define(["./entities/Circle","./entities/MultiPolygon","./entities/Polygon","./entities/Rectangle"],function(){for(var d=Array.prototype.slice.call(arguments),i={},h=0;h<d.length;h++){var a=
d[h],j=a.prototype.declaredClass.replace("frozen/box2d/entities/","");i[j]=a}return i})},"frozen/box2d/entities/MultiPolygon":function(){define(["dcl","./Entity","../../utils/scalePoints","../../utils/pointInPolygon","../../utils/translatePoints"],function(d,i,h,a,j){return d(i,{declaredClass:"frozen/box2d/entities/MultiPolygon",polys:[],draw:d.superCall(function(a){return function(f,b){var b=b||this.scale||1,c=f.lineWidth;f.lineWidth=this.lineWidth;f.save();f.translate(this.x*b,this.y*b);f.rotate(this.angle);
f.translate(-this.x*b,-this.y*b);f.fillStyle=this.fillStyle;f.strokeStyle=this.strokeStyle;for(var d=0;d<this.polys.length;d++){f.beginPath();f.moveTo((this.x+this.polys[d][0].x)*b,(this.y+this.polys[d][0].y)*b);for(var e=1;e<this.polys[d].length;e++)f.lineTo((this.polys[d][e].x+this.x)*b,(this.polys[d][e].y+this.y)*b);f.lineTo((this.x+this.polys[d][0].x)*b,(this.y+this.polys[d][0].y)*b);f.closePath();f.fill();f.stroke()}f.restore();f.lineWidth=c;a.apply(this,[f,b])}}),scaleShape:d.superCall(function(a){return function(f){this.polys=
h(this.polys,f);a.apply(this,[f])}}),pointInShape:function(d){for(var f=0;f<this.polys.length;f++)if(a(d,j(this.polys[f],this)))return!0;return!1}})})},"frozen/utils/pointInPolygon":function(){define(function(){return function(d,i){if(!d||!i)return!1;for(var h=i.points||i,a=!1,j=h.length-1,l=0;l<h.length;j=l++){var f=h[l].x,b=h[l].y,c=h[j].x,j=h[j].y;b>d.y!==j>d.y&&d.x<(c-f)*(d.y-b)/(j-b)+f&&(a=!a)}return a}})},"frozen/box2d/entities/Polygon":function(){define(["dcl","./Entity","../../utils/scalePoints",
"../../utils/pointInPolygon","../../utils/translatePoints"],function(d,i,h,a,j){return d(i,{declaredClass:"frozen/box2d/entities/Polygon",points:[],draw:d.superCall(function(a){return function(f,b){var b=b||this.scale||1,c=f.lineWidth;f.lineWidth=this.lineWidth;f.save();f.translate(this.x*b,this.y*b);f.rotate(this.angle);f.translate(-this.x*b,-this.y*b);f.fillStyle=this.fillStyle;f.strokeStyle=this.strokeStyle;f.beginPath();f.moveTo((this.x+this.points[0].x)*b,(this.y+this.points[0].y)*b);for(var d=
1;d<this.points.length;d++)f.lineTo((this.points[d].x+this.x)*b,(this.points[d].y+this.y)*b);f.lineTo((this.x+this.points[0].x)*b,(this.y+this.points[0].y)*b);f.closePath();f.fill();f.stroke();f.restore();f.lineWidth=c;a.apply(this,[f,b])}}),scaleShape:d.superCall(function(a){return function(f){this.points=h(this.points,f);a.apply(this,[f])}}),pointInShape:function(d){return a(d,j(this.points,this))}})})},"frozen/box2d/entities/Rectangle":function(){define(["dcl","./Entity"],function(d,i){return d(i,
{declaredClass:"frozen/box2d/entities/Rectangle",halfWidth:1,halfHeight:1,draw:d.superCall(function(d){return function(a,j){var j=j||this.scale||1,i=a.lineWidth;a.lineWidth=this.lineWidth;a.save();a.translate(this.x*j,this.y*j);a.rotate(this.angle);a.translate(-this.x*j,-this.y*j);a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.fillRect((this.x-this.halfWidth)*j,(this.y-this.halfHeight)*j,2*this.halfWidth*j,2*this.halfHeight*j);a.strokeRect((this.x-this.halfWidth)*j,(this.y-this.halfHeight)*
j,2*this.halfWidth*j,2*this.halfHeight*j);a.restore();a.lineWidth=i;d.apply(this,[a,j])}}),scaleShape:d.superCall(function(d){return function(a){this.halfHeight*=a;this.halfWidth*=a;d.apply(this,[a])}}),pointInShape:function(d){return d.x>=this.x-this.halfWidth&&d.x<=this.x+this.halfWidth&&d.y>=this.y-this.halfHeight&&d.y<=this.y+this.halfHeight}})})},"frozen/box2d/joints":function(){define(["./joints/Distance","./joints/Prismatic","./joints/Revolute"],function(){for(var d=Array.prototype.slice.call(arguments),
i={},h=0;h<d.length;h++){var a=d[h],j=a.prototype.declaredClass.replace("frozen/box2d/joints/","");i[j]=a}return i})},"frozen/box2d/joints/Distance":function(){define(["dcl","lodash","./Joint"],function(d,i,h){var a=Box2D.Common.Math.b2Vec2,j=Box2D.Dynamics.Joints.b2DistanceJointDef;return d(h,{declaredClass:"frozen/box2d/joints/Distance",bodyPoint2:null,scaleJointLocation:d.superCall(function(a){return function(f){if(f&&this.bodyPoint2)this.bodyPoint2.x*=f,this.bodyPoint2.y*=f,this.alreadyScaled=
!0;a.apply(this,[f])}}),createB2Joint:function(d){if(d&&d.bodiesMap&&d.b2World&&d.jointsMap&&!d.jointsMap[this.id]){var f=d.bodiesMap[this.bodyId1],b=d.bodiesMap[this.bodyId2];if(f&&b){var c,h;this.bodyPoint1&&(c=new a(this.bodyPoint1.x,this.bodyPoint1.y));this.bodyPoint2&&(h=new a(this.bodyPoint2.x,this.bodyPoint2.y));c=c||f.GetWorldCenter();h=h||b.GetWorldCenter();var e=new j;e.Initialize(f,b,c,h);this.jointAttributes&&i.assign(e,this.jointAttributes);return d.b2World.CreateJoint(e)}}}})})},"frozen/box2d/joints/Joint":function(){define(["dcl",
"dcl/bases/Mixer"],function(d,i){return d(i,{declaredClass:"frozen/box2d/joints/Joint",bodyId1:null,bodyId2:null,bodyPoint1:null,jointAttributes:null,scaleJointLocation:function(d){if(d&&this.bodyPoint1)this.bodyPoint1.x*=d,this.bodyPoint1.y*=d,this.alreadyScaled=!0}})})},"frozen/box2d/joints/Prismatic":function(){define(["dcl","lodash","./Joint"],function(d,i,h){var a=Box2D.Common.Math.b2Vec2,j=Box2D.Dynamics.Joints.b2PrismaticJointDef;return d(h,{declaredClass:"frozen/box2d/joints/Prismatic",axisScale:null,
createB2Joint:function(d){if(d&&d.bodiesMap&&d.b2World&&d.jointsMap&&!d.jointsMap[this.id]){var f=d.bodiesMap[this.bodyId1],b=d.bodiesMap[this.bodyId2];if(f&&b){var c;this.bodyPoint1&&(c=new a(this.bodyPoint1.x,this.bodyPoint1.y));c=c||f.GetWorldCenter();var h=new j,e;e=this.axisScale?new a(this.axisScale.x,this.axisScale.y):new a(1,0);h.Initialize(f,b,c,e);this.jointAttributes&&i.assign(h,this.jointAttributes);return d.b2World.CreateJoint(h)}}}})})},"frozen/box2d/joints/Revolute":function(){define(["dcl",
"lodash","./Joint"],function(d,i,h){var a=Box2D.Common.Math.b2Vec2,j=Box2D.Dynamics.Joints.b2RevoluteJointDef;return d(h,{declaredClass:"frozen/box2d/joints/Revolute",createB2Joint:function(d){if(d&&d.bodiesMap&&d.b2World&&d.jointsMap&&!d.jointsMap[this.id]){var f=d.bodiesMap[this.bodyId1],b=d.bodiesMap[this.bodyId2];if(f&&b){var c;this.bodyPoint1&&(c=new a(this.bodyPoint1.x,this.bodyPoint1.y));c=c||f.GetWorldCenter();var h=new j;h.Initialize(f,b,c,void 0);this.jointAttributes&&i.assign(h,this.jointAttributes);
return d.b2World.CreateJoint(h)}}}})})},"game/UI":function(){define(["./levelData","./getHoleScoreName","dcl","dojo/domReady!"],function(d,i,h){return h(null,{scoreEl:null,messageEl:null,totalScore:0,messageTime:0,scoreTime:0,waterTime:0,strokes:0,tooHard:!1,water:!1,changeLevel:!1,constructor:function(){this.scoreEl=document.getElementById("score");this.messageEl=document.getElementById("message");this.holeEl=document.getElementById("hole");this.strokeEl=document.getElementById("stroke")},reset:function(a){this.strokes=
0;this.tooHard=this.changeLevel=!1;this.scoreTime=this.messageTime=0;this.holeEl.innerHTML="Hole: "+(a+1);this.strokeEl.innerHTML="Stroke: "+this.strokes},update:function(a){0<this.messageTime?(this.messageTime-=a,this.tooHard=!0):0<this.waterTime?this.water=!0:this.tooHard=!1;if(0<this.scoreTime&&(this.scoreTime-=a,0>=this.scoreTime))this.changeLevel=!0;if(0<this.waterTime&&(this.waterTime-=a,0>=this.waterTime))this.water=!1},draw:function(a,h){h===d.length?(this.totalScore=0,this.scoreEl.innerHTML=
""):this.scoreEl.innerHTML=" Score: "+this.totalScore;if(this.ballHit)this.strokes++,this.strokeEl.innerHTML="Stroke: "+this.strokes,this.ballHit=!1;if(0<this.scoreTime){var l=i(3,this.strokes);this.message(a,l,"#FF0")}else this.tooHard&&this.message(a,"Too Hard!","#F00"),this.water&&this.message(a,"Water Hazard!","#00F")},message:function(a,d,h){a.textAlign="center";a.fillStyle=h;a.strokeStyle="#000";a.font="bold 40px arial";a.fillText(d,a.canvas.width/2,180);a.strokeText(d,a.canvas.width/2,180)},
setTime:function(a){this[a]=2500}})})},"game/getHoleScoreName":function(){define(function(){return function(d,i){if(1===i)return"Hole in one!";var h=i-d;return-2===h?"Eagle":-1===h?"Birdy":0===h?"Par":1===h?"Bogey":2===h?"Double Bogey":"+"+h}})},"dojo/domReady":function(){define(["./has"],function(){function d(a){l?a(h):f.push(a)}var i=this,h=document,a={loaded:1,complete:1},j="string"!=typeof h.readyState,l=!!a[h.readyState];if(j)h.readyState="loading";if(!l){var f=[],b=[],c=function(b){b=b||i.event;
if(!(l||"readystatechange"==b.type&&!a[h.readyState])){l=1;if(j)h.readyState="complete";for(;f.length;)f.shift()(h)}},m=function(a,b){a.addEventListener(b,c,!1);f.push(function(){a.removeEventListener(b,c,!1)})};m(h,"DOMContentLoaded");m(i,"load");"onreadystatechange"in h?m(h,"readystatechange"):j||b.push(function(){return a[h.readyState]});if(b.length){var e=function(){if(!l){for(var a=b.length;a--;)if(b[a]()){c("poller");return}setTimeout(e,30)}};e()}}d.load=function(a,b,c){d(c)};return d})},"frozen/box2d/Box":function(){define(["dcl",
"dcl/bases/Mixer","./listeners/Contact"],function(d,i,h){var a=Box2D.Common.Math.b2Vec2,j=Box2D.Dynamics.b2BodyDef,l=Box2D.Dynamics.b2Body,f=Box2D.Dynamics.b2FixtureDef,b=Box2D.Dynamics.b2World,c=Box2D.Collision.Shapes.b2PolygonShape,m=Box2D.Collision.Shapes.b2CircleShape;return d(i,{intervalRate:60,adaptive:!1,bodiesMap:null,fixturesMap:null,jointsMap:null,b2World:null,gravityX:0,gravityY:9.8,allowSleep:!0,resolveCollisions:!1,contactListener:null,collisions:null,scale:30,constructor:function(c){if(c&&
c.intervalRate)this.intervalRate=parseInt(c.intervalRate,10);this.bodiesMap={};this.fixturesMap={};this.jointsMap={};this.b2World=new b(new a(this.gravityX,this.gravityY),this.allowSleep);if(this.resolveCollisions)this.contactListener=new h;this.contactListener&&this.addContactListener(this.contactListener)},update:function(a){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var b=Date.now();a?this.b2World.Step(a/1E3,10,10):this.b2World.Step(this.adaptive?(b-this.lastTimestamp)/
1E3:1/this.intervalRate,10,10);this.b2World.ClearForces();return Date.now()-b},getState:function(){for(var a={},b=this.b2World.GetBodyList();b;b=b.m_next)if(b.IsActive()&&"undefined"!==typeof b.GetUserData()&&null!==b.GetUserData()&&(a[b.GetUserData()]={x:b.GetPosition().x,y:b.GetPosition().y,angle:b.GetAngle(),center:{x:b.GetWorldCenter().x,y:b.GetWorldCenter().y},linearVelocity:b.m_linearVelocity,angularVelocity:b.m_angularVelocity},this.contactListener&&this.contactListener.collisions))a[b.GetUserData()].collisions=
this.contactListener.collisions[b.GetUserData()]||null;return a},updateExternalState:function(a){var b=this.getState(),c;for(c in b){var d=a[c];d&&!d.staticBody&&d.update(b[c])}},setBodies:function(a){for(var b in a)this.addBody(a[b]);this.ready=!0},addBody:function(b){if(!b.alreadyScaled)b.scaleShape(1/this.scale),b.scale=this.scale;var d=new j,h=new f,i,w,p,n;h.restitution=b.restitution;h.density=b.density;h.friction=b.friction;h.isSensor=b.sensor||!1;if(null!=b.maskBits)h.filter.maskBits=b.maskBits;
if(null!=b.categoryBits)h.filter.categoryBits=b.categoryBits;if(null!=b.groupIndex)h.filter.groupIndex=b.groupIndex;d.type=b.staticBody?l.b2_staticBody:l.b2_dynamicBody;d.position.x=b.x;d.position.y=b.y;d.userData=b.id;d.angle=b.angle;d.linearDamping=b.linearDamping;d.angularDamping=b.angularDamping;var J=this.b2World.CreateBody(d);if(b.radius)h.shape=new m(b.radius),J.CreateFixture(h);else if(b.points){w=[];for(d=0;d<b.points.length;d++)p=new a,p.Set(b.points[d].x,b.points[d].y),w[d]=p;h.shape=new c;
h.shape.SetAsArray(w,w.length);J.CreateFixture(h)}else if(b.polys)for(i=0;i<b.polys.length;i++){w=b.polys[i];n=[];for(d=0;d<w.length;d++)p=new a,p.Set(w[d].x,w[d].y),n[d]=p;h.shape=new c;h.shape.SetAsArray(n,n.length);J.CreateFixture(h)}else h.shape=new c,h.shape.SetAsBox(b.halfWidth,b.halfHeight),J.CreateFixture(h);this.bodiesMap[b.id]=J},setPosition:function(b,c,d){this.bodiesMap[b].SetPosition(new a(c,d))},setAngle:function(a,b){this.bodiesMap[a].SetAngle(b)},setLinearVelocity:function(b,c,d){this.bodiesMap[b].SetLinearVelocity(new a(c,
d))},setAngularVelocity:function(a,b){this.bodiesMap[a].SetAngularVelocity(b)},applyImpulseDegrees:function(b,c,d){b=this.bodiesMap[b];b.ApplyImpulse(new a(Math.sin(c*(Math.PI/180))*d,-1*Math.cos(c*(Math.PI/180))*d),b.GetWorldCenter())},applyForceDegrees:function(b,c,d){b=this.bodiesMap[b];b.ApplyForce(new a(Math.sin(c*(Math.PI/180))*d,-1*Math.cos(c*(Math.PI/180))*d),b.GetWorldCenter())},applyImpulse:function(b,c,d){b=this.bodiesMap[b];b.ApplyImpulse(new a(Math.sin(c)*d,-1*Math.cos(c)*d),b.GetWorldCenter())},
applyForce:function(b,c,d){b=this.bodiesMap[b];b.ApplyForce(new a(Math.sin(c)*d,-1*Math.cos(c)*d),b.GetWorldCenter())},applyTorque:function(a,b){this.bodiesMap[a].ApplyTorque(b)},setGravity:function(b){this.b2World.SetGravity(new a(b.x,b.y))},removeBody:function(a){this.bodiesMap[a]&&(this.fixturesMap[a]&&this.bodiesMap[a].DestroyFixture(this.fixturesMap[a]),this.b2World.DestroyBody(this.bodiesMap[a]),delete this.bodiesMap[a])},wakeUpBody:function(a){this.bodiesMap[a]&&this.bodiesMap[a].SetAwake(!0)},
addContactListener:function(a){var b=new Box2D.Dynamics.b2ContactListener;if(a.beginContact)b.BeginContact=function(b){a.beginContact(b.m_fixtureA.m_body.m_userData,b.m_fixtureB.m_body.m_userData,b)};if(a.endContact)b.EndContact=function(b){a.endContact(b.m_fixtureA.m_body.m_userData,b.m_fixtureB.m_body.m_userData,b)};if(a.preSolve)b.PreSolve=function(b,c){a.preSolve(b.m_fixtureA.m_body.m_userData,b.m_fixtureB.m_body.m_userData,c,b)};if(a.postSolve)b.PostSolve=function(b,c){a.postSolve(b.m_fixtureA.m_body.m_userData,
b.m_fixtureB.m_body.m_userData,c,b)};this.b2World.SetContactListener(b)},removeJoint:function(a){this.jointsMap[a]&&(this.b2World.DestroyJoint(this.jointsMap[a]),delete this.jointsMap[a])},addJoint:function(a){if(a&&a.id&&!this.jointsMap[a.id]){if(!a.alreadyScaled&&a.scaleJointLocation)a.scaleJointLocation(1/this.scale),a.scale=this.scale;var b=a.createB2Joint(this);b&&(this.jointsMap[a.id]=b)}}})})},"frozen/box2d/listeners/Contact":function(){define(["dcl","dcl/bases/Mixer"],function(d,i){return d(i,
{declaredClass:"frozen/box2d/listeners/Contact",constructor:function(){this.collisions=this.collisions||{}},collisions:null,reset:function(){this.collisions={}},postSolve:function(d,a,j){this.collisions[d]=this.collisions[d]||[];this.collisions[d].push({id:a,impulse:j.normalImpulses[0]});this.collisions[a]=this.collisions[a]||[];this.collisions[a].push({id:d,impulse:j.normalImpulses[0]})}})})},"frozen/box2d/BoxGame":function(){define(["../GameCore","./Box","lodash","dcl"],function(d,i,h,a){return a(d,
{box:null,boxUpdating:!0,entities:null,joints:null,constructor:function(){if(!this.box)this.box=new i;if(!this.entities)this.entities={};if(!this.joints)this.joints={}},beforeUpdate:function(a){this.boxUpdating&&(this.box.update(a),this.box.updateExternalState(this.entities))},addBody:function(a){this.entities[a.id]=a;this.box.addBody(a)},addBodies:function(){var a=h.flatten(arguments,!0),d=this;h.forEach(a,function(a){d.addBody(a)})},removeBody:function(a){this.box.removeBody(a.id);delete this.entities[a.id]},
removeBodies:function(){var a=h.flatten(arguments,!0),d=this;h.forEach(a,function(a){d.removeBody(a)})},addJoint:function(a){this.joints[a.id]=a;this.box.addJoint(a)},addJoints:function(){var a=h.flatten(arguments,!0),d=this;h.forEach(a,function(a){d.addJoint(a)})},removeJoint:function(a){this.box.removeJoint(a.id);delete this.joints[a.id]},removeJoints:function(){var a=h.flatten(arguments,!0),d=this;h.forEach(a,function(a){d.removeJoint(a)})}})})},"frozen/GameCore":function(){define("dcl,dcl/advise,dcl/bases/Mixer,lodash,./InputManager,./ResourceManager,./shims/RAF".split(","),
function(d,i,h,a,j,l){return d(h,{statics:{FONT_SIZE:24},isRunning:!1,canvasId:null,maxStep:40,contextType:"2d",height:0,width:0,resourceManager:null,inputManager:null,loadingForeground:"#00F",loadingBackground:"#FFF",gameAreaId:null,canvasPercentage:0,constructor:function(){var a=this.preUpdate||this.beforeUpdate;a&&i.before(this,"update",a)},setHeight:function(a){this.height=a;this.canvas.height=a},setWidth:function(a){this.width=a;this.canvas.width=a},stop:function(){this.isRunning=!1},run:function(){this.isRunning||
(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())},loadResources:function(){},init:function(){if(!this.canvas)this.canvas=document.getElementById(this.canvasId);if(this.canvas){if(!this.context)this.context=this.canvas.getContext(this.contextType);if(this.context){this.setHeight(this.height||this.canvas.height);this.setWidth(this.width||this.canvas.width);if(!this.inputManager)this.inputManager=this.gameAreaId&&this.canvasPercentage?new j({canvas:this.canvas,
gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):new j({canvas:this.canvas});this.inputManager.resize();if(!this.resourceManager)this.resourceManager=new l;this.loadResources(this.resourceManager);this.isRunning=!0}else alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")}else alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")},
initInput:function(){},handleInput:function(){},gameLoop:function(){this.currTime=(new Date).getTime();this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep);this.prevTime=this.currTime;this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())},
launchLoop:function(){this.elapsedTime=0;var d=Date.now();this.prevTime=this.currTime=d;this.loopRunner=a.bind(this.loopRunner,this);window.requestAnimationFrame(this.loopRunner)},loopRunner:function(){this.gameLoop();window.requestAnimationFrame(this.loopRunner)},update:function(){},updateLoadingScreen:function(){},draw:function(a){if("2d"===this.contextType)a.font="14px sans-serif",a.fillText("This game does not have its own draw function!",10,50)},drawLoadingScreen:function(a){if(this.resourceManager&&
"2d"===this.contextType)a.fillStyle=this.loadingBackground,a.fillRect(0,0,this.width,this.height),a.fillStyle=this.loadingForeground,a.strokeStyle=this.loadingForeground,a.font="bold "+Math.floor(this.height/12)+"px sans-serif",a.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",0.1*this.width,0.55*this.height),a.strokeRect(0.1*this.width,0.7*this.height,0.8*this.width,0.1*this.height),a.fillRect(0.1*this.width,0.7*this.height,0.8*this.width*this.resourceManager.getPercentComplete()/
100,0.1*this.height),a.lineWidth=4}})})},"dcl/advise":function(){(function(d){"undefined"!=typeof define?define([],d):"undefined"!=typeof module?module.exports=d():advise=d()})(function(){function d(a,d){this.nb=this.pb=this.na=this.pa=this.nf=this.pf=this;this.i=a;this.n=d}function i(a){var d=function(){var d,b,c=arguments;for(d=a.pb;d!==a;d=d.pb)d.b.apply(this,c);try{a.pf!==a&&(b=a.pf.f.apply(this,c))}catch(h){b=h}for(d=a.na;d!==a;d=d.na)d.a.call(this,c,b);if(b instanceof Error)throw b;return b};
d.adviceNode=a;return d}function h(a,h,f){var b=a[h],c;b&&b.adviceNode&&b.adviceNode instanceof d?c=b.adviceNode:(c=new d(a,h),b&&b.advices?(b=b.advices,c.a(b.b,b.a,b.f)):c.a(0,0,b),a[h]=i(c));"function"==typeof f&&(f=f(h,a));return c.a(f.before,f.after,0,f.around)}var a=d.prototype={a:function(a,i,f,b){var c=new d(this.i,this.n);c.p=this;c.b=a;this._a("b",c);c.a=i;this._a("a",c);c.f=f;this._a("f",c,b);if(c.o=b)c.f=h._f(b,c.pf.f,this);return c},_a:function(a,d,f){if(d[a]||f)f="n"+a,a="p"+a,(d[a]=
this[a])[f]=(d[f]=this)[a]=d},r:function(a){this._r("b",a);this._r("a",a);this._r("f",a)},_r:function(a,d){var f="n"+a,b="p"+a;d[f][b]=d[b];d[b][f]=d[f]},destroy:function(){var a=this.pf.f,d=this.nf,f=this.p;this.r(this);if(d!==this)for(;d!==f;a=d.f,d=d.nf)if(d.o)d.f=h._f(d.o,a,this);this.i=0}};a.unadvise=a.destroy;h.before=function(a,d,f){return h(a,d,{before:f})};h.after=function(a,d,f){return h(a,d,{after:f})};h.around=function(a,d,f){return h(a,d,{around:f})};h.Node=d;h._f=function(a,d){return a(d)};
return h})},"frozen/InputManager":function(){define("./GameAction,./MouseAction,./TouchAction,./utils/insideCanvas,dcl,dcl/bases/Mixer,dcl/mixins/Cleanup,dojo/has,dojo/on,lodash,hammer,dojo/domReady!".split(","),function(d,i,h,a,j,l,f,b,c,m,e){return j([l,f],{keyActions:null,mouseAction:null,touchAction:null,canvas:null,handleMouse:!0,handleTouch:!0,handleKeys:!0,gameArea:null,canvasPercentage:null,emulateMouse:!0,hammer:null,on:function(a,b){var c=this.hammer,d=this.removeCleanup;c.on(a,b);var e=
this.pushCleanup([a,b],function(a){c.off.apply(c,a)});return{remove:function(){d(e);e()}}},constructor:function(){function a(b){b.remove()}m.bindAll(this);if(!this.hammer)this.hammer=e(document,{prevent_default:!0,drag_max_touches:0,hold:!1});if(!this.keyActions)this.keyActions={};this.handleKeys&&(this.pushCleanup(c(document,"keydown",this.keydown),a),this.pushCleanup(c(document,"keyup",this.keyup),a));if(this.emulateMouse){if(this.on("touch",this.mousedown),this.on("drag",this.mousemove),this.on("release",
this.mouseup),!this.mouseAction)this.mouseAction=new i}else if(this.on("touch",this.touchstart),this.on("drag",this.touchmove),this.on("release",this.touchend),!this.touchAction)this.touchAction=new h;this.gameArea&&this.canvasPercentage&&(this.pushCleanup(c(window,"resize",this.resize),a),this.pushCleanup(c(window,"orientationchange",this.resize),a))},insideCanvas:function(b){return a(b,this.canvas)},mapToKey:function(a,b){this.keyActions[b]=a},addKeyAction:function(a,b){var c=new d;if(b)c.behavior=
c.statics.DETECT_INITAL_PRESS_ONLY;this.mapToKey(c,a);return c},mouseUp:function(a){this.mouseup(a)},mouseup:function(a){this.mouseAction.release(this.normalizePoint(a.gesture.touches[0]))},mouseDown:function(a){this.mousedown(a)},mousedown:function(a){this.mouseAction.release(null);a=this.normalizePoint(a.gesture.touches[0]);this.mouseAction.insideCanvas=this.insideCanvas(a);this.mouseAction.press(a)},mouseMove:function(a){this.mousemove(a)},mousemove:function(a){this.mouseAction.position=this.normalizePoint(a.gesture?
a.gesture.touches[0]:a)},touchStart:function(a){this.touchstart(a)},touchstart:function(a){this.touchAction.release(null);a=m.map(a.gesture.touches,this.normalizePoint);this.touchAction.insideCanvas=m.some(a,this.insideCanvas);this.touchAction.press(a)},touchEnd:function(a){this.touchend(a)},touchend:function(a){this.touchAction.release(m.map(a.gesture.touches,this.normalizePoint))},touchMove:function(a){this.touchmove(a)},touchmove:function(a){this.touchAction.positions=m.map(a.gesture.touches,this.normalizePoint);
this.touchAction.startPositions&&a.preventDefault()},getKeyAction:function(a){return this.keyActions?this.keyActions[a.keyCode]||this.keyActions[String.fromCharCode(a.keyCode)]:null},keyPressed:function(a){this.keydown(a)},keyDown:function(a){this.keydown(a)},keydown:function(a){(a=this.getKeyAction(a))&&!a.isPressed()&&a.press()},keyReleased:function(a){this.keyup(a)},keyup:function(a){(a=this.getKeyAction(a))&&a.release()},getMouseLoc:function(a){return this.normalizePoint(a)},normalizePoint:function(a){var b,
c;c=this.canvas.getBoundingClientRect();b=c.left;c=c.top;return this.zoomRatio?{x:Math.round((a.clientX-b)/this.zoomRatio),y:Math.round((a.clientY-c)/this.zoomRatio)}:{x:Math.round(a.clientX-b),y:Math.round(a.clientY-c)}},resize:function(){var a,b;if(this.gameArea&&this.canvasPercentage&&this.canvas){var c=this.canvas.width,d=this.canvas.height,e=window.getComputedStyle(document.body,null)||{};a=parseFloat(e.marginLeft)||0;var f=parseFloat(e.marginTop)||0;b=parseFloat(e.marginRight)||0;e=parseFloat(e.marginBottom)||
0;a+=b;b=f+e;f=window.innerWidth-a;a=window.innerHeight-b;d=c/d;e=b="";f/a>d?(f=a*d,b=f+"px",e=a+"px"):(b=f+"px",e=Math.round(f/d)+"px");this.zoomRatio=f/c*this.canvasPercentage;this.gameArea.style.width=b;this.gameArea.style.height=e;c=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=c;this.canvas.style.height=c;this.canvas.style.display="block";this.canvas.style.marginLeft="auto";this.canvas.style.marginRight="auto"}}})})},"frozen/GameAction":function(){define(["dcl","dcl/bases/Mixer"],
function(d,i){return d(i,{name:null,behavior:0,amount:0,state:0,statics:{NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3},constructor:function(){this.reset()},reset:function(){this.state=this.statics.STATE_RELEASED;this.amount=0},tap:function(){this.press();this.release()},press:function(){this.state=this.statics.STATE_PRESSED;this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)},pressAmt:function(d){if(this.state!==
this.statics.STATE_WAITING_FOR_RELEASE)this.amount+=d,this.state=this.statics.STATE_WAITING_FOR_RELEASE},release:function(){this.state=this.statics.STATE_RELEASED},isPressed:function(){return this.state===this.statics.STATE_PRESSED?!0:!1},getAmount:function(){var d=this.amount;if(0!==d)if(this.state===this.statics.STATE_RELEASED)this.amount=0;else if(this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY)this.state=this.statics.STATE_WAITING_FOR_RELEASE,this.amount=0;return d}})})},"frozen/MouseAction":function(){define(["dcl",
"./GameAction"],function(d,i){return d(i,{startPosition:null,endPosition:null,position:null,insideCanvas:null,press:d.superCall(function(d){return function(a){this.position=this.startPosition=a;d.apply(this)}}),release:d.superCall(function(d){return function(a){this.endPosition=a;d.apply(this)}})})})},"frozen/TouchAction":function(){define(["dcl","./GameAction"],function(d,i){return d(i,{startPositions:null,endPositions:null,positions:null,insideCanvas:null,press:d.superCall(function(d){return function(a){this.positions=
this.startPositions=a;d.apply(this)}}),release:d.superCall(function(d){return function(a){this.endPositions=a;d.apply(this)}})})})},"frozen/utils/insideCanvas":function(){define(function(){return function(d,i){return 0>d.x||d.x>i.width||0>d.y||d.y>i.height?!1:!0}})},"dcl/mixins/Cleanup":function(){(function(d){"undefined"!=typeof define?define(["../dcl","./Destroyable"],d):"undefined"!=typeof module?module.exports=d(require("../dcl"),require("./Destroyable")):dclMixinsCleanup=d(dcl,dclMixinsDestroyable)})(function(d,
i){return d(i,{declaredClass:"dcl/mixins/Cleanup",constructor:function(){this.__cleanupStack=[]},pushCleanup:function(d,a){var i=a?function(){a(d)}:function(){d.destroy()};this.__cleanupStack.push(i);return i},popCleanup:function(d){if(d)return this.__cleanupStack.pop();this.__cleanupStack.pop()()},removeCleanup:function(d){for(var a=this.__cleanupStack.length-1;0<=a;--a)if(this.__cleanupStack[a]===d)return this.__cleanupStack.splice(a,1),!0},cleanup:function(){for(;this.__cleanupStack.length;)this.__cleanupStack.pop()()},
destroy:function(){this.cleanup()}})})},"dcl/mixins/Destroyable":function(){(function(d){"undefined"!=typeof define?define(["../dcl"],d):"undefined"!=typeof module?module.exports=d(require("../dcl")):dclMixinsDestroyable=d(dcl)})(function(d){var i=d(null,{declaredClass:"dcl/mixins/Destroyable"});d.chainBefore(i,"destroy");return i})},"hammer/hammer":function(){(function(d,i){function h(){if(!a.READY){a.event.determineEventTypes();for(var b in a.gestures)a.gestures.hasOwnProperty(b)&&a.detection.register(a.gestures[b]);
a.event.onTouch(a.DOCUMENT,a.EVENT_MOVE,a.detection.detect);a.event.onTouch(a.DOCUMENT,a.EVENT_END,a.detection.detect);a.READY=!0}}var a=function(b,c){return new a.Instance(b,c||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};a.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;a.HAS_TOUCHEVENTS="ontouchstart"in d;a.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;
a.NO_MOUSEEVENTS=a.HAS_TOUCHEVENTS&&navigator.userAgent.match(a.MOBILE_REGEX);a.EVENT_TYPES={};a.DIRECTION_DOWN="down";a.DIRECTION_LEFT="left";a.DIRECTION_UP="up";a.DIRECTION_RIGHT="right";a.POINTER_MOUSE="mouse";a.POINTER_TOUCH="touch";a.POINTER_PEN="pen";a.EVENT_START="start";a.EVENT_MOVE="move";a.EVENT_END="end";a.DOCUMENT=document;a.plugins={};a.READY=!1;a.Instance=function(b,c){var d=this;h();this.element=b;this.enabled=!0;this.options=a.utils.extend(a.utils.extend({},a.defaults),c||{});this.options.stop_browser_behavior&&
a.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);a.event.onTouch(b,a.EVENT_START,function(b){d.enabled&&a.detection.startDetect(d,b)});return this};a.Instance.prototype={on:function(a,c){for(var d=a.split(" "),e=0;e<d.length;e++)this.element.addEventListener(d[e],c,!1);return this},off:function(a,c){for(var d=a.split(" "),e=0;e<d.length;e++)this.element.removeEventListener(d[e],c,!1);return this},trigger:function(b,c){var d=a.DOCUMENT.createEvent("Event");d.initEvent(b,
!0,!0);d.gesture=c;var e=this.element;if(a.utils.hasParent(c.target,e))e=c.target;e.dispatchEvent(d);return this},enable:function(a){this.enabled=a;return this}};var j=null,l=!1,f=!1;a.event={bindDom:function(a,c,d){for(var c=c.split(" "),e=0;e<c.length;e++)a.addEventListener(c[e],d,!1)},onTouch:function(b,c,d){var e=this;this.bindDom(b,a.EVENT_TYPES[c],function(g){var h=g.type.toLowerCase();if(!h.match(/mouse/)||!f){h.match(/touch/)||h.match(/pointerdown/)||h.match(/mouse/)&&1===g.which?l=!0:h.match(/mouse/)&&
1!==g.which&&(l=!1);h.match(/touch|pointer/)&&(f=!0);var i=0;if(l){a.HAS_POINTEREVENTS&&c!=a.EVENT_END?i=a.PointerEvent.updatePointer(c,g):h.match(/touch/)?i=g.touches.length:f||(i=h.match(/up/)?0:1);if(0<i&&c==a.EVENT_END)c=a.EVENT_MOVE;else if(!i)c=a.EVENT_END;!i&&null!==j?g=j:j=g;d.call(a.detection,e.collectEventData(b,c,g));a.HAS_POINTEREVENTS&&c==a.EVENT_END&&(i=a.PointerEvent.updatePointer(c,g))}i||(j=null,f=l=!1,a.PointerEvent.reset())}})},determineEventTypes:function(){var b;b=a.HAS_POINTEREVENTS?
a.PointerEvent.getEvents():a.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];a.EVENT_TYPES[a.EVENT_START]=b[0];a.EVENT_TYPES[a.EVENT_MOVE]=b[1];a.EVENT_TYPES[a.EVENT_END]=b[2]},getTouchList:function(b){if(a.HAS_POINTEREVENTS)return a.PointerEvent.getTouchList();if(b.touches)return b.touches;b.indentifier=1;return[b]},collectEventData:function(b,c,d){var b=this.getTouchList(d,c),e=a.POINTER_TOUCH;if(d.type.match(/mouse/)||
a.PointerEvent.matchType(a.POINTER_MOUSE,d))e=a.POINTER_MOUSE;return{center:a.utils.getCenter(b),timeStamp:(new Date).getTime(),target:d.target,touches:b,eventType:c,pointerType:e,srcEvent:d,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return a.detection.stopDetect()}}}};a.PointerEvent={pointers:{},getTouchList:function(){var a=
this,c=[];Object.keys(a.pointers).sort().forEach(function(d){c.push(a.pointers[d])});return c},updatePointer:function(b,c){b==a.EVENT_END?this.pointers={}:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c);return Object.keys(this.pointers).length},matchType:function(b,c){if(!c.pointerType)return!1;var d={};d[a.POINTER_MOUSE]=c.pointerType==c.MSPOINTER_TYPE_MOUSE||c.pointerType==a.POINTER_MOUSE;d[a.POINTER_TOUCH]=c.pointerType==c.MSPOINTER_TYPE_TOUCH||c.pointerType==a.POINTER_TOUCH;d[a.POINTER_PEN]=
c.pointerType==c.MSPOINTER_TYPE_PEN||c.pointerType==a.POINTER_PEN;return d[b]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};a.utils={extend:function(a,c,d){for(var e in c)a[e]!==i&&d||(a[e]=c[e]);return a},hasParent:function(a,c){for(;a;){if(a==c)return!0;a=a.parentNode}return!1},getCenter:function(a){for(var c=[],d=[],e=0,f=a.length;e<f;e++)c.push(a[e].pageX),d.push(a[e].pageY);
return{pageX:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2,pageY:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2}},getVelocity:function(a,c,d){return{x:Math.abs(c/a)||0,y:Math.abs(d/a)||0}},getAngle:function(a,c){return 180*Math.atan2(c.pageY-a.pageY,c.pageX-a.pageX)/Math.PI},getDirection:function(b,c){var d=Math.abs(b.pageX-c.pageX),e=Math.abs(b.pageY-c.pageY);return d>=e?0<b.pageX-c.pageX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:0<b.pageY-c.pageY?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(a,
c){var d=c.pageX-a.pageX,e=c.pageY-a.pageY;return Math.sqrt(d*d+e*e)},getScale:function(a,c){return 2<=a.length&&2<=c.length?this.getDistance(c[0],c[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,c){return 2<=a.length&&2<=c.length?this.getAngle(c[1],c[0])-this.getAngle(a[1],a[0]):0},isVertical:function(b){return b==a.DIRECTION_UP||b==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,c){var d,e="webkit,khtml,moz,ms,o,".split(",");if(c&&a.style){for(var f=0;f<e.length;f++)for(var h in c)c.hasOwnProperty(h)&&
(d=h,e[f]&&(d=e[f]+d.substring(0,1).toUpperCase()+d.substring(1)),a.style[d]=c[h]);if("none"==c.userSelect)a.onselectstart=function(){return!1}}}};a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){if(!this.current)this.stopped=!1,this.current={inst:b,startEvent:a.utils.extend({},c),lastEvent:!1,name:""},this.detect(c)},detect:function(b){if(this.current&&!this.stopped){for(var b=this.extendEventData(b),c=this.current.inst.options,d=0,e=this.gestures.length;d<
e;d++){var f=this.gestures[d];if(!this.stopped&&!1!==c[f.name]&&!1===f.handler.call(f,b,this.current.inst)){this.stopDetect();break}}if(this.current)this.current.lastEvent=b;b.eventType==a.EVENT_END&&!b.touches.length-1&&this.stopDetect();return b}},stopDetect:function(){this.previous=a.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(b){var c=this.current.startEvent;if(c&&(b.touches.length!=c.touches.length||b.touches===c.touches)){c.touches=[];for(var d=
0,e=b.touches.length;d<e;d++)c.touches.push(a.utils.extend({},b.touches[d]))}var d=b.timeStamp-c.timeStamp,e=b.center.pageX-c.center.pageX,f=b.center.pageY-c.center.pageY,h=a.utils.getVelocity(d,e,f);a.utils.extend(b,{deltaTime:d,deltaX:e,deltaY:f,velocityX:h.x,velocityY:h.y,distance:a.utils.getDistance(c.center,b.center),angle:a.utils.getAngle(c.center,b.center),direction:a.utils.getDirection(c.center,b.center),scale:a.utils.getScale(c.touches,b.touches),rotation:a.utils.getRotation(c.touches,b.touches),
startEvent:c});return b},register:function(b){var c=b.defaults||{};c[b.name]===i&&(c[b.name]=!0);a.utils.extend(a.defaults,c,!0);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};a.gestures=a.gestures||{};a.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(b,c){switch(b.eventType){case a.EVENT_START:clearTimeout(this.timer);a.detection.current.name=
this.name;this.timer=setTimeout(function(){"hold"==a.detection.current.name&&c.trigger("hold",b)},c.options.hold_timeout);break;case a.EVENT_MOVE:b.distance>c.options.hold_threshold&&clearTimeout(this.timer);break;case a.EVENT_END:clearTimeout(this.timer)}}};a.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(b,c){if(b.eventType==a.EVENT_END){var d=a.detection.previous,e=!1;if(!(b.deltaTime>
c.options.tap_max_touchtime||b.distance>c.options.tap_max_distance))if(d&&"tap"==d.name&&b.timeStamp-d.lastEvent.timeStamp<c.options.doubletap_interval&&b.distance<c.options.doubletap_distance&&(c.trigger("doubletap",b),e=!0),!e||c.options.tap_always)a.detection.current.name="tap",c.trigger(a.detection.current.name,b)}}};a.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function(b,c){if(b.eventType==a.EVENT_END&&!(0<c.options.swipe_max_touches&&b.touches.length>
c.options.swipe_max_touches)&&(b.velocityX>c.options.swipe_velocity||b.velocityY>c.options.swipe_velocity))c.trigger(this.name,b),c.trigger(this.name+b.direction,b)}};a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),
this.triggered=!1;else if(!(0<c.options.drag_max_touches&&b.touches.length>c.options.drag_max_touches))switch(b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:if(b.distance<c.options.drag_min_distance&&a.detection.current.name!=this.name)break;if(a.detection.current.name!=this.name&&(a.detection.current.name=this.name,c.options.correct_for_drag_min_distance)){var d=Math.abs(c.options.drag_min_distance/b.distance);a.detection.current.startEvent.center.pageX+=b.deltaX*d;a.detection.current.startEvent.center.pageY+=
b.deltaY*d;b=a.detection.extendEventData(b)}if(a.detection.current.lastEvent.drag_locked_to_axis||c.options.drag_lock_to_axis&&c.options.drag_lock_min_distance<=b.distance)b.drag_locked_to_axis=!0;d=a.detection.current.lastEvent.direction;if(b.drag_locked_to_axis&&d!==b.direction)b.direction=a.utils.isVertical(d)?0>b.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:0>b.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT;if(!this.triggered)c.trigger(this.name+"start",b),this.triggered=!0;c.trigger(this.name,b);c.trigger(this.name+
b.direction,b);(c.options.drag_block_vertical&&a.utils.isVertical(b.direction)||c.options.drag_block_horizontal&&!a.utils.isVertical(b.direction))&&b.preventDefault();break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+
"end",b),this.triggered=!1;else if(!(2>b.touches.length))switch(c.options.transform_always_block&&b.preventDefault(),b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:var d=Math.abs(1-b.scale),e=Math.abs(b.rotation);if(d<c.options.transform_min_scale&&e<c.options.transform_min_rotation)break;a.detection.current.name=this.name;if(!this.triggered)c.trigger(this.name+"start",b),this.triggered=!0;c.trigger(this.name,b);e>c.options.transform_min_rotation&&c.trigger("rotate",b);
d>c.options.transform_min_scale&&(c.trigger("pinch",b),c.trigger("pinch"+(1>b.scale?"in":"out"),b));break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(b,c){c.options.prevent_mouseevents&&b.pointerType==a.POINTER_MOUSE?b.stopDetect():(c.options.prevent_default&&b.preventDefault(),b.eventType==a.EVENT_START&&c.trigger(this.name,b))}};a.gestures.Release=
{name:"release",index:Infinity,handler:function(b,c){b.eventType==a.EVENT_END&&c.trigger(this.name,b)}};"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d.Hammer=a,define(function(){return a})):"object"===typeof module&&"object"===typeof module.exports?module.exports=a:d.Hammer=a})(this)},"frozen/shims/RAF":function(){define(function(){for(var d=0,i=["ms","moz","webkit","o"],h=0;h<i.length&&!window.requestAnimationFrame;++h)window.requestAnimationFrame=window[i[h]+"RequestAnimationFrame"],
window.cancelAnimationFrame=window[i[h]+"CancelAnimationFrame"]||window[i[h]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)window.requestAnimationFrame=function(a){var h=(new Date).getTime(),i=Math.max(0,16-(h-d)),f=window.setTimeout(function(){a(h+i)},i);d=h+i;return f};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(a){clearTimeout(a)}})}}});(function(){require({cache:{}});require.boot&&require.apply(null,require.boot)})();